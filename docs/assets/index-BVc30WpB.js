function av(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Im(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pc={exports:{}},bo={},kc={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function lv(){if(up)return Ie;up=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function B(D,$,ue){this.props=D,this.context=$,this.refs=K,this.updater=ue||z}B.prototype.isReactComponent={},B.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},B.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function pe(){}pe.prototype=B.prototype;function ge(D,$,ue){this.props=D,this.context=$,this.refs=K,this.updater=ue||z}var ce=ge.prototype=new pe;ce.constructor=ge,Q(ce,B.prototype),ce.isPureReactComponent=!0;var ve=Array.isArray,Fe=Object.prototype.hasOwnProperty,ke={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(D,$,ue){var Ee,Te={},Ae=null,Le=null;if($!=null)for(Ee in $.ref!==void 0&&(Le=$.ref),$.key!==void 0&&(Ae=""+$.key),$)Fe.call($,Ee)&&!N.hasOwnProperty(Ee)&&(Te[Ee]=$[Ee]);var Oe=arguments.length-2;if(Oe===1)Te.children=ue;else if(1<Oe){for(var Be=Array(Oe),pt=0;pt<Oe;pt++)Be[pt]=arguments[pt+2];Te.children=Be}if(D&&D.defaultProps)for(Ee in Oe=D.defaultProps,Oe)Te[Ee]===void 0&&(Te[Ee]=Oe[Ee]);return{$$typeof:i,type:D,key:Ae,ref:Le,props:Te,_owner:ke.current}}function C(D,$){return{$$typeof:i,type:D.type,key:$,ref:D.ref,props:D.props,_owner:D._owner}}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function V(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ue){return $[ue]})}var L=/\/+/g;function A(D,$){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):$.toString(36)}function Ze(D,$,ue,Ee,Te){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Le=!1;if(D===null)Le=!0;else switch(Ae){case"string":case"number":Le=!0;break;case"object":switch(D.$$typeof){case i:case e:Le=!0}}if(Le)return Le=D,Te=Te(Le),D=Ee===""?"."+A(Le,0):Ee,ve(Te)?(ue="",D!=null&&(ue=D.replace(L,"$&/")+"/"),Ze(Te,$,ue,"",function(pt){return pt})):Te!=null&&(x(Te)&&(Te=C(Te,ue+(!Te.key||Le&&Le.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+D)),$.push(Te)),1;if(Le=0,Ee=Ee===""?".":Ee+":",ve(D))for(var Oe=0;Oe<D.length;Oe++){Ae=D[Oe];var Be=Ee+A(Ae,Oe);Le+=Ze(Ae,$,ue,Be,Te)}else if(Be=j(D),typeof Be=="function")for(D=Be.call(D),Oe=0;!(Ae=D.next()).done;)Ae=Ae.value,Be=Ee+A(Ae,Oe++),Le+=Ze(Ae,$,ue,Be,Te);else if(Ae==="object")throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Le}function Pt(D,$,ue){if(D==null)return D;var Ee=[],Te=0;return Ze(D,Ee,"","",function(Ae){return $.call(ue,Ae,Te++)}),Ee}function kt(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(ue){(D._status===0||D._status===-1)&&(D._status=1,D._result=ue)},function(ue){(D._status===0||D._status===-1)&&(D._status=2,D._result=ue)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var be={current:null},Z={transition:null},he={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Z,ReactCurrentOwner:ke};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Pt,forEach:function(D,$,ue){Pt(D,function(){$.apply(this,arguments)},ue)},count:function(D){var $=0;return Pt(D,function(){$++}),$},toArray:function(D){return Pt(D,function($){return $})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=B,Ie.Fragment=n,Ie.Profiler=a,Ie.PureComponent=ge,Ie.StrictMode=s,Ie.Suspense=y,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ie.act=ne,Ie.cloneElement=function(D,$,ue){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Ee=Q({},D.props),Te=D.key,Ae=D.ref,Le=D._owner;if($!=null){if($.ref!==void 0&&(Ae=$.ref,Le=ke.current),$.key!==void 0&&(Te=""+$.key),D.type&&D.type.defaultProps)var Oe=D.type.defaultProps;for(Be in $)Fe.call($,Be)&&!N.hasOwnProperty(Be)&&(Ee[Be]=$[Be]===void 0&&Oe!==void 0?Oe[Be]:$[Be])}var Be=arguments.length-2;if(Be===1)Ee.children=ue;else if(1<Be){Oe=Array(Be);for(var pt=0;pt<Be;pt++)Oe[pt]=arguments[pt+2];Ee.children=Oe}return{$$typeof:i,type:D.type,key:Te,ref:Ae,props:Ee,_owner:Le}},Ie.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ie.createElement=S,Ie.createFactory=function(D){var $=S.bind(null,D);return $.type=D,$},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:m,render:D}},Ie.isValidElement=x,Ie.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:kt}},Ie.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},Ie.startTransition=function(D){var $=Z.transition;Z.transition={};try{D()}finally{Z.transition=$}},Ie.unstable_act=ne,Ie.useCallback=function(D,$){return be.current.useCallback(D,$)},Ie.useContext=function(D){return be.current.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D){return be.current.useDeferredValue(D)},Ie.useEffect=function(D,$){return be.current.useEffect(D,$)},Ie.useId=function(){return be.current.useId()},Ie.useImperativeHandle=function(D,$,ue){return be.current.useImperativeHandle(D,$,ue)},Ie.useInsertionEffect=function(D,$){return be.current.useInsertionEffect(D,$)},Ie.useLayoutEffect=function(D,$){return be.current.useLayoutEffect(D,$)},Ie.useMemo=function(D,$){return be.current.useMemo(D,$)},Ie.useReducer=function(D,$,ue){return be.current.useReducer(D,$,ue)},Ie.useRef=function(D){return be.current.useRef(D)},Ie.useState=function(D){return be.current.useState(D)},Ie.useSyncExternalStore=function(D,$,ue){return be.current.useSyncExternalStore(D,$,ue)},Ie.useTransition=function(){return be.current.useTransition()},Ie.version="18.3.1",Ie}var cp;function yh(){return cp||(cp=1,kc.exports=lv()),kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function uv(){if(hp)return bo;hp=1;var i=yh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,_){var E,R={},j=null,z=null;_!==void 0&&(j=""+_),y.key!==void 0&&(j=""+y.key),y.ref!==void 0&&(z=y.ref);for(E in y)s.call(y,E)&&!c.hasOwnProperty(E)&&(R[E]=y[E]);if(m&&m.defaultProps)for(E in y=m.defaultProps,y)R[E]===void 0&&(R[E]=y[E]);return{$$typeof:e,type:m,key:j,ref:z,props:R,_owner:a.current}}return bo.Fragment=n,bo.jsx=f,bo.jsxs=f,bo}var fp;function cv(){return fp||(fp=1,Pc.exports=uv()),Pc.exports}var T=cv(),te=yh();const Sm=Im(te),hv=av({__proto__:null,default:Sm},[te]);var Sl={},xc={exports:{}},Yt={},Nc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function fv(){return dp||(dp=1,function(i){function e(Z,he){var ne=Z.length;Z.push(he);e:for(;0<ne;){var D=ne-1>>>1,$=Z[D];if(0<a($,he))Z[D]=he,Z[ne]=$,ne=D;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var he=Z[0],ne=Z.pop();if(ne!==he){Z[0]=ne;e:for(var D=0,$=Z.length,ue=$>>>1;D<ue;){var Ee=2*(D+1)-1,Te=Z[Ee],Ae=Ee+1,Le=Z[Ae];if(0>a(Te,ne))Ae<$&&0>a(Le,Te)?(Z[D]=Le,Z[Ae]=ne,D=Ae):(Z[D]=Te,Z[Ee]=ne,D=Ee);else if(Ae<$&&0>a(Le,ne))Z[D]=Le,Z[Ae]=ne,D=Ae;else break e}}return he}function a(Z,he){var ne=Z.sortIndex-he.sortIndex;return ne!==0?ne:Z.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],_=[],E=1,R=null,j=3,z=!1,Q=!1,K=!1,B=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(Z){for(var he=n(_);he!==null;){if(he.callback===null)s(_);else if(he.startTime<=Z)s(_),he.sortIndex=he.expirationTime,e(y,he);else break;he=n(_)}}function ve(Z){if(K=!1,ce(Z),!Q)if(n(y)!==null)Q=!0,kt(Fe);else{var he=n(_);he!==null&&be(ve,he.startTime-Z)}}function Fe(Z,he){Q=!1,K&&(K=!1,pe(S),S=-1),z=!0;var ne=j;try{for(ce(he),R=n(y);R!==null&&(!(R.expirationTime>he)||Z&&!V());){var D=R.callback;if(typeof D=="function"){R.callback=null,j=R.priorityLevel;var $=D(R.expirationTime<=he);he=i.unstable_now(),typeof $=="function"?R.callback=$:R===n(y)&&s(y),ce(he)}else s(y);R=n(y)}if(R!==null)var ue=!0;else{var Ee=n(_);Ee!==null&&be(ve,Ee.startTime-he),ue=!1}return ue}finally{R=null,j=ne,z=!1}}var ke=!1,N=null,S=-1,C=5,x=-1;function V(){return!(i.unstable_now()-x<C)}function L(){if(N!==null){var Z=i.unstable_now();x=Z;var he=!0;try{he=N(!0,Z)}finally{he?A():(ke=!1,N=null)}}else ke=!1}var A;if(typeof ge=="function")A=function(){ge(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Pt=Ze.port2;Ze.port1.onmessage=L,A=function(){Pt.postMessage(null)}}else A=function(){B(L,0)};function kt(Z){N=Z,ke||(ke=!0,A())}function be(Z,he){S=B(function(){Z(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_continueExecution=function(){Q||z||(Q=!0,kt(Fe))},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(Z){switch(j){case 1:case 2:case 3:var he=3;break;default:he=j}var ne=j;j=he;try{return Z()}finally{j=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Z,he){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ne=j;j=Z;try{return he()}finally{j=ne}},i.unstable_scheduleCallback=function(Z,he,ne){var D=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?D+ne:D):ne=D,Z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ne+$,Z={id:E++,callback:he,priorityLevel:Z,startTime:ne,expirationTime:$,sortIndex:-1},ne>D?(Z.sortIndex=ne,e(_,Z),n(y)===null&&Z===n(_)&&(K?(pe(S),S=-1):K=!0,be(ve,ne-D))):(Z.sortIndex=$,e(y,Z),Q||z||(Q=!0,kt(Fe))),Z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Z){var he=j;return function(){var ne=j;j=he;try{return Z.apply(this,arguments)}finally{j=ne}}}}(Vc)),Vc}var pp;function dv(){return pp||(pp=1,Nc.exports=fv()),Nc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function pv(){if(mp)return Yt;mp=1;var i=yh(),e=dv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},R={};function j(t){return y.call(R,t)?!0:y.call(E,t)?!1:_.test(t)?R[t]=!0:(E[t]=!0,!1)}function z(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q(t,r,o,u){if(r===null||typeof r>"u"||z(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function K(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new K(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];B[r]=new K(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new K(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new K(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new K(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new K(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new K(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new K(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new K(t,5,!1,t.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function ge(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(pe,ge);B[r]=new K(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(pe,ge);B[r]=new K(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(pe,ge);B[r]=new K(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new K(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new K(t,1,!1,t.toLowerCase(),null,!0,!0)});function ce(t,r,o,u){var h=B.hasOwnProperty(r)?B[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Q(r,o,h,u)&&(o=null),u||h===null?j(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ve=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),Z=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,D;function $(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var ue=!1;function Ee(t,r){if(!t||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(b){var u=b}Reflect.construct(t,[],r)}else{try{r.call()}catch(b){u=b}t.call(r.prototype)}else{try{throw Error()}catch(b){u=b}t()}}catch(b){if(b&&u&&typeof b.stack=="string"){for(var h=b.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,I=p.length-1;1<=v&&0<=I&&h[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(h[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||h[v]!==p[I]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=I);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?$(t):""}function Te(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case ke:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pt:return r=t.displayName||null,r!==null?r:Ae(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Ae(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(r);case 8:return r===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Hn(t){t._valueTracker||(t._valueTracker=pt(t))}function Ni(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gr(t,r){var o=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Vi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Oe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qs(t,r){r=r.checked,r!=null&&ce(t,"checked",r,!1)}function Hs(t,r){qs(t,r);var o=Oe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Di(t,r.type,o):r.hasOwnProperty("defaultValue")&&Di(t,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ua(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Di(t,r,o){(r!=="number"||fr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Wn=Array.isArray;function Gn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Oe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ws(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Li(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Wn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Oe(o)}}function Oi(t,r){var o=Oe(r.value),u=Oe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Gs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ut(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,Qs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function dr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kr=["Webkit","ms","Moz","O"];Object.keys(Qr).forEach(function(t){Kr.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Qr[r]=Qr[t]})});function Ks(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Qr.hasOwnProperty(t)&&Qr[t]?(""+r).trim():r+"px"}function Ys(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ks(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Xs=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Js(t,r){if(r){if(Xs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Zs(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yr=null;function Mi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,sn=null,Nn=null;function Fi(t){if(t=So(t)){if(typeof ji!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ba(r),ji(t.stateNode,t.type,r))}}function Vn(t){sn?Nn?Nn.push(t):Nn=[t]:sn=t}function eo(){if(sn){var t=sn,r=Nn;if(Nn=sn=null,Fi(t),r)for(t=0;t<r.length;t++)Fi(r[t])}}function Xr(t,r){return t(r)}function to(){}var Kn=!1;function no(t,r,o){if(Kn)return t(r,o);Kn=!0;try{return Xr(t,r,o)}finally{Kn=!1,(sn!==null||Nn!==null)&&(to(),eo())}}function et(t,r){var o=t.stateNode;if(o===null)return null;var u=ba(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var bi=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{bi=!1}function Jr(t,r,o,u,h,p,v,I,P){var b=Array.prototype.slice.call(arguments,3);try{r.apply(o,b)}catch(H){this.onError(H)}}var Zr=!1,Ui=null,gn=!1,ro=null,nu={onError:function(t){Zr=!0,Ui=t}};function Bi(t,r,o,u,h,p,v,I,P){Zr=!1,Ui=null,Jr.apply(nu,arguments)}function ca(t,r,o,u,h,p,v,I,P){if(Bi.apply(this,arguments),Zr){if(Zr){var b=Ui;Zr=!1,Ui=null}else throw Error(n(198));gn||(gn=!0,ro=b)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ei(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(yn(t)!==t)throw Error(n(188))}function ha(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,I=h.child;I;){if(I===o){v=!0,o=h,u=p;break}if(I===u){v=!0,u=h,o=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===o){v=!0,o=p,u=h;break}if(I===u){v=!0,u=p,o=h;break}I=I.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function io(t){return t=ha(t),t!==null?zi(t):null}function zi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=zi(t);if(r!==null)return r;t=t.sibling}return null}var $i=e.unstable_scheduleCallback,so=e.unstable_cancelCallback,fa=e.unstable_shouldYield,ru=e.unstable_requestPaint,ze=e.unstable_now,da=e.unstable_getCurrentPriorityLevel,ti=e.unstable_ImmediatePriority,pr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,oo=e.unstable_LowPriority,pa=e.unstable_IdlePriority,ni=null,Xt=null;function ma(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:ya,ao=Math.log,ga=Math.LN2;function ya(t){return t>>>=0,t===0?32:31-(ao(t)/ga|0)|0}var qi=64,Hi=4194304;function mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ri(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var I=v&~h;I!==0?u=mr(I):(p&=v,p!==0&&(u=mr(p)))}else v=o&~h,v!==0?u=mr(v):p!==0&&(u=mr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),h=1<<o,u|=t[o],r&=~h;return u}function iu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ft(p),I=1<<v,P=h[v];P===-1?((I&o)===0||(I&u)!==0)&&(h[v]=iu(I,r)):P<=r&&(t.expiredLanes|=I),p&=~I}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ii(){var t=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),t}function gr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function yr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ft(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function vr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Se=0;function _r(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var va,Wi,_a,wa,Ea,lo=!1,Dn=[],Et=null,_n=null,wn=null,wr=new Map,an=new Map,Ln=[],su="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,r){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":wr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function $t(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=So(r),r!==null&&Wi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ou(t,r,o,u,h){switch(r){case"focusin":return Et=$t(Et,t,r,o,u,h),!0;case"dragenter":return _n=$t(_n,t,r,o,u,h),!0;case"mouseover":return wn=$t(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return wr.set(p,$t(wr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,$t(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ia(t){var r=ui(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=ei(o),r!==null){t.blockedOn=r,Ea(t.priority,function(){_a(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xn(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Yr=u,o.target.dispatchEvent(u),Yr=null}else return r=So(o),r!==null&&Wi(r),t.blockedOn=o,!1;r.shift()}return!0}function si(t,r,o){Xn(t)&&o.delete(r)}function Sa(){lo=!1,Et!==null&&Xn(Et)&&(Et=null),_n!==null&&Xn(_n)&&(_n=null),wn!==null&&Xn(wn)&&(wn=null),wr.forEach(si),an.forEach(si)}function En(t,r){t.blockedOn===r&&(t.blockedOn=null,lo||(lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sa)))}function Tn(t){function r(h){return En(h,t)}if(0<Dn.length){En(Dn[0],t);for(var o=1;o<Dn.length;o++){var u=Dn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Et!==null&&En(Et,t),_n!==null&&En(_n,t),wn!==null&&En(wn,t),wr.forEach(r),an.forEach(r),o=0;o<Ln.length;o++)u=Ln[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Ln.length&&(o=Ln[0],o.blockedOn===null);)Ia(o),o.blockedOn===null&&Ln.shift()}var Jn=ve.ReactCurrentBatchConfig,Er=!0;function We(t,r,o,u){var h=Se,p=Jn.transition;Jn.transition=null;try{Se=1,uo(t,r,o,u)}finally{Se=h,Jn.transition=p}}function au(t,r,o,u){var h=Se,p=Jn.transition;Jn.transition=null;try{Se=4,uo(t,r,o,u)}finally{Se=h,Jn.transition=p}}function uo(t,r,o,u){if(Er){var h=Gi(t,r,o,u);if(h===null)vu(t,r,u,oi,o),Ta(t,u);else if(ou(h,t,r,o,u))u.stopPropagation();else if(Ta(t,u),r&4&&-1<su.indexOf(t)){for(;h!==null;){var p=So(h);if(p!==null&&va(p),p=Gi(t,r,o,u),p===null&&vu(t,r,u,oi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else vu(t,r,u,null,o)}}var oi=null;function Gi(t,r,o,u){if(oi=null,t=Mi(u),t=ui(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ei(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return oi=t,null}function co(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(da()){case ti:return 1;case pr:return 4;case on:case oo:return 16;case pa:return 536870912;default:return 16}default:return 16}}var Zt=null,Qi=null,qt=null;function ho(){if(qt)return qt;var t,r=Qi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return qt=h.slice(t,1<u?1-u:void 0)}function Ki(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function On(){return!0}function fo(){return!1}function Tt(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?On:fo,this.isPropagationStopped=fo,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=On)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=On)},persist:function(){},isPersistent:On}),r}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Tt(In),Mn=ne({},In,{view:0,detail:0}),lu=Tt(Mn),Xi,Zn,Tr,ai=ne({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tr&&(Tr&&t.type==="mousemove"?(Xi=t.screenX-Tr.screenX,Zn=t.screenY-Tr.screenY):Zn=Xi=0,Tr=t),Xi)},movementY:function(t){return"movementY"in t?t.movementY:Zn}}),Ji=Tt(ai),po=ne({},ai,{dataTransfer:0}),Aa=Tt(po),Zi=ne({},Mn,{relatedTarget:0}),es=Tt(Zi),Ca=ne({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),er=Tt(Ca),Ra=ne({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Tt(Ra),ka=ne({},In,{data:0}),mo=Tt(ka),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Na(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=xa[t])?!!r[t]:!1}function jn(){return Na}var l=ne({},Mn,{key:function(t){if(t.key){var r=ts[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ki(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(t){return t.type==="keypress"?Ki(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ki(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Tt(l),g=ne({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Tt(g),O=ne({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn}),U=Tt(O),J=ne({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=Tt(J),ht=ne({},ai,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=Tt(ht),mt=[9,13,27,32],it=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,li=m&&(!it||ln&&8<ln&&11>=ln),ns=" ",nf=!1;function rf(t,r){switch(t){case"keyup":return mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rs=!1;function iy(t,r){switch(t){case"compositionend":return sf(r);case"keypress":return r.which!==32?null:(nf=!0,ns);case"textInput":return t=r.data,t===ns&&nf?null:t;default:return null}}function sy(t,r){if(rs)return t==="compositionend"||!it&&rf(t,r)?(t=ho(),qt=Qi=Zt=null,rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return li&&r.locale!=="ko"?null:r.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!oy[t.type]:r==="textarea"}function af(t,r,o,u){Vn(u),r=Ma(r,"onChange"),0<r.length&&(o=new Yi("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var go=null,yo=null;function ay(t){Af(t,0)}function Va(t){var r=ls(t);if(Ni(r))return t}function ly(t,r){if(t==="change")return r}var lf=!1;if(m){var uu;if(m){var cu="oninput"in document;if(!cu){var uf=document.createElement("div");uf.setAttribute("oninput","return;"),cu=typeof uf.oninput=="function"}uu=cu}else uu=!1;lf=uu&&(!document.documentMode||9<document.documentMode)}function cf(){go&&(go.detachEvent("onpropertychange",hf),yo=go=null)}function hf(t){if(t.propertyName==="value"&&Va(yo)){var r=[];af(r,yo,t,Mi(t)),no(ay,r)}}function uy(t,r,o){t==="focusin"?(cf(),go=r,yo=o,go.attachEvent("onpropertychange",hf)):t==="focusout"&&cf()}function cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(yo)}function hy(t,r){if(t==="click")return Va(r)}function fy(t,r){if(t==="input"||t==="change")return Va(r)}function dy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:dy;function vo(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!Sn(t[h],r[h]))return!1}return!0}function ff(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function df(t,r){var o=ff(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ff(o)}}function pf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function mf(){for(var t=window,r=fr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=fr(t.document)}return r}function hu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function py(t){var r=mf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&pf(o.ownerDocument.documentElement,o)){if(u!==null&&hu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=df(o,p);var v=df(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var my=m&&"documentMode"in document&&11>=document.documentMode,is=null,fu=null,_o=null,du=!1;function gf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;du||is==null||is!==fr(u)||(u=is,"selectionStart"in u&&hu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),_o&&vo(_o,u)||(_o=u,u=Ma(fu,"onSelect"),0<u.length&&(r=new Yi("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=is)))}function Da(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ss={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},pu={},yf={};m&&(yf=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function La(t){if(pu[t])return pu[t];if(!ss[t])return t;var r=ss[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in yf)return pu[t]=r[o];return t}var vf=La("animationend"),_f=La("animationiteration"),wf=La("animationstart"),Ef=La("transitionend"),Tf=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,r){Tf.set(t,r),c(r,[t])}for(var mu=0;mu<If.length;mu++){var gu=If[mu],gy=gu.toLowerCase(),yy=gu[0].toUpperCase()+gu.slice(1);Ir(gy,"on"+yy)}Ir(vf,"onAnimationEnd"),Ir(_f,"onAnimationIteration"),Ir(wf,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Ef,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function Sf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ca(u,r,void 0,t),t.currentTarget=null}function Af(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var I=u[v],P=I.instance,b=I.currentTarget;if(I=I.listener,P!==p&&h.isPropagationStopped())break e;Sf(h,I,b),p=P}else for(v=0;v<u.length;v++){if(I=u[v],P=I.instance,b=I.currentTarget,I=I.listener,P!==p&&h.isPropagationStopped())break e;Sf(h,I,b),p=P}}}if(gn)throw t=ro,gn=!1,ro=null,t}function qe(t,r){var o=r[Su];o===void 0&&(o=r[Su]=new Set);var u=t+"__bubble";o.has(u)||(Cf(r,t,2,!1),o.add(u))}function yu(t,r,o){var u=0;r&&(u|=4),Cf(o,t,u,r)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Eo(t){if(!t[Oa]){t[Oa]=!0,s.forEach(function(o){o!=="selectionchange"&&(vy.has(o)||yu(o,!1,t),yu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oa]||(r[Oa]=!0,yu("selectionchange",!1,r))}}function Cf(t,r,o,u){switch(co(r)){case 1:var h=We;break;case 4:h=au;break;default:h=uo}o=h.bind(null,r,o,t),h=void 0,!bi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function vu(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var I=u.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;I!==null;){if(v=ui(I),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}I=I.parentNode}}u=u.return}no(function(){var b=p,H=Mi(o),G=[];e:{var q=Tf.get(t);if(q!==void 0){var ee=Yi,ie=t;switch(t){case"keypress":if(Ki(o)===0)break e;case"keydown":case"keyup":ee=d;break;case"focusin":ie="focus",ee=es;break;case"focusout":ie="blur",ee=es;break;case"beforeblur":case"afterblur":ee=es;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ji;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Aa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=U;break;case vf:case _f:case wf:ee=er;break;case Ef:ee=je;break;case"scroll":ee=lu;break;case"wheel":ee=Ce;break;case"copy":case"cut":case"paste":ee=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=w}var se=(r&4)!==0,tt=!se&&t==="scroll",M=se?q!==null?q+"Capture":null:q;se=[];for(var k=b,F;k!==null;){F=k;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,M!==null&&(Y=et(k,M),Y!=null&&se.push(To(k,Y,F)))),tt)break;k=k.return}0<se.length&&(q=new ee(q,ie,null,o,H),G.push({event:q,listeners:se}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",q&&o!==Yr&&(ie=o.relatedTarget||o.fromElement)&&(ui(ie)||ie[tr]))break e;if((ee||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,ee?(ie=o.relatedTarget||o.toElement,ee=b,ie=ie?ui(ie):null,ie!==null&&(tt=yn(ie),ie!==tt||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=b),ee!==ie)){if(se=Ji,Y="onMouseLeave",M="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(se=w,Y="onPointerLeave",M="onPointerEnter",k="pointer"),tt=ee==null?q:ls(ee),F=ie==null?q:ls(ie),q=new se(Y,k+"leave",ee,o,H),q.target=tt,q.relatedTarget=F,Y=null,ui(H)===b&&(se=new se(M,k+"enter",ie,o,H),se.target=F,se.relatedTarget=tt,Y=se),tt=Y,ee&&ie)t:{for(se=ee,M=ie,k=0,F=se;F;F=os(F))k++;for(F=0,Y=M;Y;Y=os(Y))F++;for(;0<k-F;)se=os(se),k--;for(;0<F-k;)M=os(M),F--;for(;k--;){if(se===M||M!==null&&se===M.alternate)break t;se=os(se),M=os(M)}se=null}else se=null;ee!==null&&Rf(G,q,ee,se,!1),ie!==null&&tt!==null&&Rf(G,tt,ie,se,!0)}}e:{if(q=b?ls(b):window,ee=q.nodeName&&q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&q.type==="file")var le=ly;else if(of(q))if(lf)le=fy;else{le=cy;var fe=uy}else(ee=q.nodeName)&&ee.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(le=hy);if(le&&(le=le(t,b))){af(G,le,o,H);break e}fe&&fe(t,q,b),t==="focusout"&&(fe=q._wrapperState)&&fe.controlled&&q.type==="number"&&Di(q,"number",q.value)}switch(fe=b?ls(b):window,t){case"focusin":(of(fe)||fe.contentEditable==="true")&&(is=fe,fu=b,_o=null);break;case"focusout":_o=fu=is=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,gf(G,o,H);break;case"selectionchange":if(my)break;case"keydown":case"keyup":gf(G,o,H)}var de;if(it)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else rs?rf(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(li&&o.locale!=="ko"&&(rs||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&rs&&(de=ho()):(Zt=H,Qi="value"in Zt?Zt.value:Zt.textContent,rs=!0)),fe=Ma(b,ye),0<fe.length&&(ye=new mo(ye,t,null,o,H),G.push({event:ye,listeners:fe}),de?ye.data=de:(de=sf(o),de!==null&&(ye.data=de)))),(de=en?iy(t,o):sy(t,o))&&(b=Ma(b,"onBeforeInput"),0<b.length&&(H=new mo("onBeforeInput","beforeinput",null,o,H),G.push({event:H,listeners:b}),H.data=de))}Af(G,r)})}function To(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ma(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=et(t,o),p!=null&&u.unshift(To(t,p,h)),p=et(t,r),p!=null&&u.push(To(t,p,h))),t=t.return}return u}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var I=o,P=I.alternate,b=I.stateNode;if(P!==null&&P===u)break;I.tag===5&&b!==null&&(I=b,h?(P=et(o,p),P!=null&&v.unshift(To(o,P,I))):h||(P=et(o,p),P!=null&&v.push(To(o,P,I)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var _y=/\r\n?/g,wy=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(_y,`
`).replace(wy,"")}function ja(t,r,o){if(r=Pf(r),Pf(t)!==r&&o)throw Error(n(425))}function Fa(){}var _u=null,wu=null;function Eu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(t){return kf.resolve(null).then(t).catch(Iy)}:Tu;function Iy(t){setTimeout(function(){throw t})}function Iu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Sr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function xf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var as=Math.random().toString(36).slice(2),Fn="__reactFiber$"+as,Io="__reactProps$"+as,tr="__reactContainer$"+as,Su="__reactEvents$"+as,Sy="__reactListeners$"+as,Ay="__reactHandles$"+as;function ui(t){var r=t[Fn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[tr]||o[Fn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=xf(t);t!==null;){if(o=t[Fn])return o;t=xf(t)}return r}t=o,o=t.parentNode}return null}function So(t){return t=t[Fn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ba(t){return t[Io]||null}var Au=[],us=-1;function Ar(t){return{current:t}}function He(t){0>us||(t.current=Au[us],Au[us]=null,us--)}function $e(t,r){us++,Au[us]=t.current,t.current=r}var Cr={},xt=Ar(Cr),Ht=Ar(!1),ci=Cr;function cs(t,r){var o=t.type.contextTypes;if(!o)return Cr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Wt(t){return t=t.childContextTypes,t!=null}function Ua(){He(Ht),He(xt)}function Nf(t,r,o){if(xt.current!==Cr)throw Error(n(168));$e(xt,r),$e(Ht,o)}function Vf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Le(t)||"Unknown",h));return ne({},o,u)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,ci=xt.current,$e(xt,t),$e(Ht,Ht.current),!0}function Df(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Vf(t,r,ci),u.__reactInternalMemoizedMergedChildContext=t,He(Ht),He(xt),$e(xt,t)):He(Ht),$e(Ht,o)}var nr=null,za=!1,Cu=!1;function Lf(t){nr===null?nr=[t]:nr.push(t)}function Cy(t){za=!0,Lf(t)}function Rr(){if(!Cu&&nr!==null){Cu=!0;var t=0,r=Se;try{var o=nr;for(Se=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}nr=null,za=!1}catch(h){throw nr!==null&&(nr=nr.slice(t+1)),$i(ti,Rr),h}finally{Se=r,Cu=!1}}return null}var hs=[],fs=0,$a=null,qa=0,un=[],cn=0,hi=null,rr=1,ir="";function fi(t,r){hs[fs++]=qa,hs[fs++]=$a,$a=t,qa=r}function Of(t,r,o){un[cn++]=rr,un[cn++]=ir,un[cn++]=hi,hi=t;var u=rr;t=ir;var h=32-Ft(u)-1;u&=~(1<<h),o+=1;var p=32-Ft(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,rr=1<<32-Ft(r)+h|o<<h|u,ir=p+t}else rr=1<<p|o<<h|u,ir=t}function Ru(t){t.return!==null&&(fi(t,1),Of(t,1,0))}function Pu(t){for(;t===$a;)$a=hs[--fs],hs[fs]=null,qa=hs[--fs],hs[fs]=null;for(;t===hi;)hi=un[--cn],un[cn]=null,ir=un[--cn],un[cn]=null,rr=un[--cn],un[cn]=null}var tn=null,nn=null,Ge=!1,An=null;function Mf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function jf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Sr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=hi!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function ku(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(Ge){var r=nn;if(r){var o=r;if(!jf(t,r)){if(ku(t))throw Error(n(418));r=Sr(o.nextSibling);var u=tn;r&&jf(t,r)?Mf(u,o):(t.flags=t.flags&-4097|2,Ge=!1,tn=t)}}else{if(ku(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,tn=t}}}function Ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ha(t){if(t!==tn)return!1;if(!Ge)return Ff(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Eu(t.type,t.memoizedProps)),r&&(r=nn)){if(ku(t))throw bf(),Error(n(418));for(;r;)Mf(t,r),r=Sr(r.nextSibling)}if(Ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Sr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Sr(t.stateNode.nextSibling):null;return!0}function bf(){for(var t=nn;t;)t=Sr(t.nextSibling)}function ds(){nn=tn=null,Ge=!1}function Nu(t){An===null?An=[t]:An.push(t)}var Ry=ve.ReactCurrentBatchConfig;function Ao(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var I=h.refs;v===null?delete I[p]:I[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Wa(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Uf(t){var r=t._init;return r(t._payload)}function Bf(t){function r(M,k){if(t){var F=M.deletions;F===null?(M.deletions=[k],M.flags|=16):F.push(k)}}function o(M,k){if(!t)return null;for(;k!==null;)r(M,k),k=k.sibling;return null}function u(M,k){for(M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(M,k){return M=Or(M,k),M.index=0,M.sibling=null,M}function p(M,k,F){return M.index=F,t?(F=M.alternate,F!==null?(F=F.index,F<k?(M.flags|=2,k):F):(M.flags|=2,k)):(M.flags|=1048576,k)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function I(M,k,F,Y){return k===null||k.tag!==6?(k=Tc(F,M.mode,Y),k.return=M,k):(k=h(k,F),k.return=M,k)}function P(M,k,F,Y){var le=F.type;return le===N?H(M,k,F.props.children,Y,F.key):k!==null&&(k.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===kt&&Uf(le)===k.type)?(Y=h(k,F.props),Y.ref=Ao(M,k,F),Y.return=M,Y):(Y=gl(F.type,F.key,F.props,null,M.mode,Y),Y.ref=Ao(M,k,F),Y.return=M,Y)}function b(M,k,F,Y){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Ic(F,M.mode,Y),k.return=M,k):(k=h(k,F.children||[]),k.return=M,k)}function H(M,k,F,Y,le){return k===null||k.tag!==7?(k=wi(F,M.mode,Y,le),k.return=M,k):(k=h(k,F),k.return=M,k)}function G(M,k,F){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Tc(""+k,M.mode,F),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Fe:return F=gl(k.type,k.key,k.props,null,M.mode,F),F.ref=Ao(M,null,k),F.return=M,F;case ke:return k=Ic(k,M.mode,F),k.return=M,k;case kt:var Y=k._init;return G(M,Y(k._payload),F)}if(Wn(k)||he(k))return k=wi(k,M.mode,F,null),k.return=M,k;Wa(M,k)}return null}function q(M,k,F,Y){var le=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return le!==null?null:I(M,k,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Fe:return F.key===le?P(M,k,F,Y):null;case ke:return F.key===le?b(M,k,F,Y):null;case kt:return le=F._init,q(M,k,le(F._payload),Y)}if(Wn(F)||he(F))return le!==null?null:H(M,k,F,Y,null);Wa(M,F)}return null}function ee(M,k,F,Y,le){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return M=M.get(F)||null,I(k,M,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Fe:return M=M.get(Y.key===null?F:Y.key)||null,P(k,M,Y,le);case ke:return M=M.get(Y.key===null?F:Y.key)||null,b(k,M,Y,le);case kt:var fe=Y._init;return ee(M,k,F,fe(Y._payload),le)}if(Wn(Y)||he(Y))return M=M.get(F)||null,H(k,M,Y,le,null);Wa(k,Y)}return null}function ie(M,k,F,Y){for(var le=null,fe=null,de=k,ye=k=0,vt=null;de!==null&&ye<F.length;ye++){de.index>ye?(vt=de,de=null):vt=de.sibling;var De=q(M,de,F[ye],Y);if(De===null){de===null&&(de=vt);break}t&&de&&De.alternate===null&&r(M,de),k=p(De,k,ye),fe===null?le=De:fe.sibling=De,fe=De,de=vt}if(ye===F.length)return o(M,de),Ge&&fi(M,ye),le;if(de===null){for(;ye<F.length;ye++)de=G(M,F[ye],Y),de!==null&&(k=p(de,k,ye),fe===null?le=de:fe.sibling=de,fe=de);return Ge&&fi(M,ye),le}for(de=u(M,de);ye<F.length;ye++)vt=ee(de,M,ye,F[ye],Y),vt!==null&&(t&&vt.alternate!==null&&de.delete(vt.key===null?ye:vt.key),k=p(vt,k,ye),fe===null?le=vt:fe.sibling=vt,fe=vt);return t&&de.forEach(function(Mr){return r(M,Mr)}),Ge&&fi(M,ye),le}function se(M,k,F,Y){var le=he(F);if(typeof le!="function")throw Error(n(150));if(F=le.call(F),F==null)throw Error(n(151));for(var fe=le=null,de=k,ye=k=0,vt=null,De=F.next();de!==null&&!De.done;ye++,De=F.next()){de.index>ye?(vt=de,de=null):vt=de.sibling;var Mr=q(M,de,De.value,Y);if(Mr===null){de===null&&(de=vt);break}t&&de&&Mr.alternate===null&&r(M,de),k=p(Mr,k,ye),fe===null?le=Mr:fe.sibling=Mr,fe=Mr,de=vt}if(De.done)return o(M,de),Ge&&fi(M,ye),le;if(de===null){for(;!De.done;ye++,De=F.next())De=G(M,De.value,Y),De!==null&&(k=p(De,k,ye),fe===null?le=De:fe.sibling=De,fe=De);return Ge&&fi(M,ye),le}for(de=u(M,de);!De.done;ye++,De=F.next())De=ee(de,M,ye,De.value,Y),De!==null&&(t&&De.alternate!==null&&de.delete(De.key===null?ye:De.key),k=p(De,k,ye),fe===null?le=De:fe.sibling=De,fe=De);return t&&de.forEach(function(ov){return r(M,ov)}),Ge&&fi(M,ye),le}function tt(M,k,F,Y){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Fe:e:{for(var le=F.key,fe=k;fe!==null;){if(fe.key===le){if(le=F.type,le===N){if(fe.tag===7){o(M,fe.sibling),k=h(fe,F.props.children),k.return=M,M=k;break e}}else if(fe.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===kt&&Uf(le)===fe.type){o(M,fe.sibling),k=h(fe,F.props),k.ref=Ao(M,fe,F),k.return=M,M=k;break e}o(M,fe);break}else r(M,fe);fe=fe.sibling}F.type===N?(k=wi(F.props.children,M.mode,Y,F.key),k.return=M,M=k):(Y=gl(F.type,F.key,F.props,null,M.mode,Y),Y.ref=Ao(M,k,F),Y.return=M,M=Y)}return v(M);case ke:e:{for(fe=F.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){o(M,k.sibling),k=h(k,F.children||[]),k.return=M,M=k;break e}else{o(M,k);break}else r(M,k);k=k.sibling}k=Ic(F,M.mode,Y),k.return=M,M=k}return v(M);case kt:return fe=F._init,tt(M,k,fe(F._payload),Y)}if(Wn(F))return ie(M,k,F,Y);if(he(F))return se(M,k,F,Y);Wa(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,k!==null&&k.tag===6?(o(M,k.sibling),k=h(k,F),k.return=M,M=k):(o(M,k),k=Tc(F,M.mode,Y),k.return=M,M=k),v(M)):o(M,k)}return tt}var ps=Bf(!0),zf=Bf(!1),Ga=Ar(null),Qa=null,ms=null,Vu=null;function Du(){Vu=ms=Qa=null}function Lu(t){var r=Ga.current;He(Ga),t._currentValue=r}function Ou(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function gs(t,r){Qa=t,Vu=ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Gt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(Vu!==t)if(t={context:t,memoizedValue:r,next:null},ms===null){if(Qa===null)throw Error(n(308));ms=t,Qa.dependencies={lanes:0,firstContext:t}}else ms=ms.next=t;return r}var di=null;function Mu(t){di===null?di=[t]:di.push(t)}function $f(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Mu(r)):(o.next=h.next,h.next=o),r.interleaved=o,sr(t,u)}function sr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Pr=!1;function ju(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function kr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(xe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,sr(t,o)}return h=u.interleaved,h===null?(r.next=r,Mu(u)):(r.next=h.next,h.next=r),u.interleaved=r,sr(t,o)}function Ka(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,vr(t,o)}}function Hf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ya(t,r,o,u){var h=t.updateQueue;Pr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var P=I,b=P.next;P.next=null,v===null?p=b:v.next=b,v=P;var H=t.alternate;H!==null&&(H=H.updateQueue,I=H.lastBaseUpdate,I!==v&&(I===null?H.firstBaseUpdate=b:I.next=b,H.lastBaseUpdate=P))}if(p!==null){var G=h.baseState;v=0,H=b=P=null,I=p;do{var q=I.lane,ee=I.eventTime;if((u&q)===q){H!==null&&(H=H.next={eventTime:ee,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ie=t,se=I;switch(q=r,ee=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){G=ie.call(ee,G,q);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,q=typeof ie=="function"?ie.call(ee,G,q):ie,q==null)break e;G=ne({},G,q);break e;case 2:Pr=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,q=h.effects,q===null?h.effects=[I]:q.push(I))}else ee={eventTime:ee,lane:q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},H===null?(b=H=ee,P=G):H=H.next=ee,v|=q;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;q=I,I=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);if(H===null&&(P=G),h.baseState=P,h.firstBaseUpdate=b,h.lastBaseUpdate=H,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);gi|=v,t.lanes=v,t.memoizedState=G}}function Wf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Co={},bn=Ar(Co),Ro=Ar(Co),Po=Ar(Co);function pi(t){if(t===Co)throw Error(n(174));return t}function Fu(t,r){switch($e(Po,r),$e(Ro,t),$e(bn,Co),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ct(r,t)}He(bn),$e(bn,r)}function ys(){He(bn),He(Ro),He(Po)}function Gf(t){pi(Po.current);var r=pi(bn.current),o=ct(r,t.type);r!==o&&($e(Ro,t),$e(bn,o))}function bu(t){Ro.current===t&&(He(bn),He(Ro))}var Qe=Ar(0);function Xa(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Uu=[];function Bu(){for(var t=0;t<Uu.length;t++)Uu[t]._workInProgressVersionPrimary=null;Uu.length=0}var Ja=ve.ReactCurrentDispatcher,zu=ve.ReactCurrentBatchConfig,mi=0,Ke=null,ft=null,gt=null,Za=!1,ko=!1,xo=0,Py=0;function Nt(){throw Error(n(321))}function $u(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Sn(t[o],r[o]))return!1;return!0}function qu(t,r,o,u,h,p){if(mi=p,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ja.current=t===null||t.memoizedState===null?Vy:Dy,t=o(u,h),ko){p=0;do{if(ko=!1,xo=0,25<=p)throw Error(n(301));p+=1,gt=ft=null,r.updateQueue=null,Ja.current=Ly,t=o(u,h)}while(ko)}if(Ja.current=nl,r=ft!==null&&ft.next!==null,mi=0,gt=ft=Ke=null,Za=!1,r)throw Error(n(300));return t}function Hu(){var t=xo!==0;return xo=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function fn(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=gt===null?Ke.memoizedState:gt.next;if(r!==null)gt=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function No(t,r){return typeof r=="function"?r(t):r}function Wu(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ft,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var I=v=null,P=null,b=p;do{var H=b.lane;if((mi&H)===H)P!==null&&(P=P.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),u=b.hasEagerState?b.eagerState:t(u,b.action);else{var G={lane:H,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};P===null?(I=P=G,v=u):P=P.next=G,Ke.lanes|=H,gi|=H}b=b.next}while(b!==null&&b!==p);P===null?v=u:P.next=I,Sn(u,r.memoizedState)||(Gt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ke.lanes|=p,gi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Gu(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);Sn(p,r.memoizedState)||(Gt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Qf(){}function Kf(t,r){var o=Ke,u=fn(),h=r(),p=!Sn(u.memoizedState,h);if(p&&(u.memoizedState=h,Gt=!0),u=u.queue,Qu(Jf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||gt!==null&&gt.memoizedState.tag&1){if(o.flags|=2048,Vo(9,Xf.bind(null,o,u,h,r),void 0,null),yt===null)throw Error(n(349));(mi&30)!==0||Yf(o,r,h)}return h}function Yf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Xf(t,r,o,u){r.value=o,r.getSnapshot=u,Zf(r)&&ed(t)}function Jf(t,r,o){return o(function(){Zf(r)&&ed(t)})}function Zf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Sn(t,o)}catch{return!0}}function ed(t){var r=sr(t,1);r!==null&&kn(r,t,1,-1)}function td(t){var r=Un();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:t},r.queue=t,t=t.dispatch=Ny.bind(null,Ke,t),[r.memoizedState,t]}function Vo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function nd(){return fn().memoizedState}function el(t,r,o,u){var h=Un();Ke.flags|=t,h.memoizedState=Vo(1|r,o,void 0,u===void 0?null:u)}function tl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ft!==null){var v=ft.memoizedState;if(p=v.destroy,u!==null&&$u(u,v.deps)){h.memoizedState=Vo(r,o,p,u);return}}Ke.flags|=t,h.memoizedState=Vo(1|r,o,p,u)}function rd(t,r){return el(8390656,8,t,r)}function Qu(t,r){return tl(2048,8,t,r)}function id(t,r){return tl(4,2,t,r)}function sd(t,r){return tl(4,4,t,r)}function od(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ad(t,r,o){return o=o!=null?o.concat([t]):null,tl(4,4,od.bind(null,r,t),o)}function Ku(){}function ld(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&$u(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function ud(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&$u(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function cd(t,r,o){return(mi&21)===0?(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=o):(Sn(o,r)||(o=ii(),Ke.lanes|=o,gi|=o,t.baseState=!0),r)}function ky(t,r){var o=Se;Se=o!==0&&4>o?o:4,t(!0);var u=zu.transition;zu.transition={};try{t(!1),r()}finally{Se=o,zu.transition=u}}function hd(){return fn().memoizedState}function xy(t,r,o){var u=Dr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},fd(t))dd(r,o);else if(o=$f(t,r,o,u),o!==null){var h=Bt();kn(o,t,u,h),pd(o,r,u)}}function Ny(t,r,o){var u=Dr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(fd(t))dd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,I=p(v,o);if(h.hasEagerState=!0,h.eagerState=I,Sn(I,v)){var P=r.interleaved;P===null?(h.next=h,Mu(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=$f(t,r,h,u),o!==null&&(h=Bt(),kn(o,t,u,h),pd(o,r,u))}}function fd(t){var r=t.alternate;return t===Ke||r!==null&&r===Ke}function dd(t,r){ko=Za=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function pd(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,vr(t,o)}}var nl={readContext:hn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Vy={readContext:hn,useCallback:function(t,r){return Un().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:rd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,el(4194308,4,od.bind(null,r,t),o)},useLayoutEffect:function(t,r){return el(4194308,4,t,r)},useInsertionEffect:function(t,r){return el(4,2,t,r)},useMemo:function(t,r){var o=Un();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Un();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=xy.bind(null,Ke,t),[u.memoizedState,t]},useRef:function(t){var r=Un();return t={current:t},r.memoizedState=t},useState:td,useDebugValue:Ku,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=td(!1),r=t[0];return t=ky.bind(null,t[1]),Un().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ke,h=Un();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),yt===null)throw Error(n(349));(mi&30)!==0||Yf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,rd(Jf.bind(null,u,p,t),[t]),u.flags|=2048,Vo(9,Xf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Un(),r=yt.identifierPrefix;if(Ge){var o=ir,u=rr;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=xo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Py++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Dy={readContext:hn,useCallback:ld,useContext:hn,useEffect:Qu,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:Wu,useRef:nd,useState:function(){return Wu(No)},useDebugValue:Ku,useDeferredValue:function(t){var r=fn();return cd(r,ft.memoizedState,t)},useTransition:function(){var t=Wu(No)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Qf,useSyncExternalStore:Kf,useId:hd,unstable_isNewReconciler:!1},Ly={readContext:hn,useCallback:ld,useContext:hn,useEffect:Qu,useImperativeHandle:ad,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ud,useReducer:Gu,useRef:nd,useState:function(){return Gu(No)},useDebugValue:Ku,useDeferredValue:function(t){var r=fn();return ft===null?r.memoizedState=t:cd(r,ft.memoizedState,t)},useTransition:function(){var t=Gu(No)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Qf,useSyncExternalStore:Kf,useId:hd,unstable_isNewReconciler:!1};function Cn(t,r){if(t&&t.defaultProps){r=ne({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Yu(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ne({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var rl={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=Dr(t),p=or(u,h);p.payload=r,o!=null&&(p.callback=o),r=kr(t,p,h),r!==null&&(kn(r,t,h,u),Ka(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=Dr(t),p=or(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=kr(t,p,h),r!==null&&(kn(r,t,h,u),Ka(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Bt(),u=Dr(t),h=or(o,u);h.tag=2,r!=null&&(h.callback=r),r=kr(t,h,u),r!==null&&(kn(r,t,u,o),Ka(r,t,u))}};function md(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!vo(o,u)||!vo(h,p):!0}function gd(t,r,o){var u=!1,h=Cr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=Wt(r)?ci:xt.current,u=r.contextTypes,p=(u=u!=null)?cs(t,h):Cr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=rl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function yd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&rl.enqueueReplaceState(r,r.state,null)}function Xu(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},ju(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=Wt(r)?ci:xt.current,h.context=cs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Yu(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&rl.enqueueReplaceState(h,h.state,null),Ya(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function vs(t,r){try{var o="",u=r;do o+=Te(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Ju(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Zu(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Oy=typeof WeakMap=="function"?WeakMap:Map;function vd(t,r,o){o=or(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){cl||(cl=!0,pc=u),Zu(t,r)},o}function _d(t,r,o){o=or(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Zu(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Zu(t,r),typeof u!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function wd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new Oy;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Ky.bind(null,t,r,o),r.then(t,t))}function Ed(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Td(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=or(-1,1),r.tag=2,kr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var My=ve.ReactCurrentOwner,Gt=!1;function Ut(t,r,o,u){r.child=t===null?zf(r,null,o,u):ps(r,t.child,o,u)}function Id(t,r,o,u,h){o=o.render;var p=r.ref;return gs(r,h),u=qu(t,r,o,u,p,h),o=Hu(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ar(t,r,h)):(Ge&&o&&Ru(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Sd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Ec(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Ad(t,r,p,u,h)):(t=gl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:vo,o(v,u)&&t.ref===r.ref)return ar(t,r,h)}return r.flags|=1,t=Or(p,u),t.ref=r.ref,t.return=r,r.child=t}function Ad(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(vo(p,u)&&t.ref===r.ref)if(Gt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Gt=!0);else return r.lanes=t.lanes,ar(t,r,h)}return ec(t,r,o,u,h)}function Cd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ws,rn),rn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(ws,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(ws,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(ws,rn),rn|=u;return Ut(t,r,h,o),r.child}function Rd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function ec(t,r,o,u,h){var p=Wt(o)?ci:xt.current;return p=cs(r,p),gs(r,h),o=qu(t,r,o,u,p,h),u=Hu(),t!==null&&!Gt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,ar(t,r,h)):(Ge&&u&&Ru(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Pd(t,r,o,u,h){if(Wt(o)){var p=!0;Ba(r)}else p=!1;if(gs(r,h),r.stateNode===null)sl(t,r),gd(r,o,u),Xu(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var P=v.context,b=o.contextType;typeof b=="object"&&b!==null?b=hn(b):(b=Wt(o)?ci:xt.current,b=cs(r,b));var H=o.getDerivedStateFromProps,G=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==u||P!==b)&&yd(r,v,u,b),Pr=!1;var q=r.memoizedState;v.state=q,Ya(r,u,v,h),P=r.memoizedState,I!==u||q!==P||Ht.current||Pr?(typeof H=="function"&&(Yu(r,o,H,u),P=r.memoizedState),(I=Pr||md(r,o,I,u,q,P,b))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=b,u=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,qf(t,r),I=r.memoizedProps,b=r.type===r.elementType?I:Cn(r.type,I),v.props=b,G=r.pendingProps,q=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=hn(P):(P=Wt(o)?ci:xt.current,P=cs(r,P));var ee=o.getDerivedStateFromProps;(H=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==G||q!==P)&&yd(r,v,u,P),Pr=!1,q=r.memoizedState,v.state=q,Ya(r,u,v,h);var ie=r.memoizedState;I!==G||q!==ie||Ht.current||Pr?(typeof ee=="function"&&(Yu(r,o,ee,u),ie=r.memoizedState),(b=Pr||md(r,o,b,u,q,ie,P)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ie,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ie,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),v.props=u,v.state=ie,v.context=P,u=b):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),u=!1)}return tc(t,r,o,u,p,h)}function tc(t,r,o,u,h,p){Rd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Df(r,o,!1),ar(t,r,p);u=r.stateNode,My.current=r;var I=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=ps(r,t.child,null,p),r.child=ps(r,null,I,p)):Ut(t,r,I,p),r.memoizedState=u.state,h&&Df(r,o,!0),r.child}function kd(t){var r=t.stateNode;r.pendingContext?Nf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Nf(t,r.context,!1),Fu(t,r.containerInfo)}function xd(t,r,o,u,h){return ds(),Nu(h),r.flags|=256,Ut(t,r,o,u),r.child}var nc={dehydrated:null,treeContext:null,retryLane:0};function rc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nd(t,r,o){var u=r.pendingProps,h=Qe.current,p=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=t!==null&&t.memoizedState===null?!1:(h&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Qe,h&1),t===null)return xu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=yl(v,u,0,null),t=wi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=rc(o),r.memoizedState=nc,t):ic(r,v));if(h=t.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return jy(t,r,v,u,I,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,I=h.sibling;var P={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Or(h,P),u.subtreeFlags=h.subtreeFlags&14680064),I!==null?p=Or(I,p):(p=wi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?rc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=nc,u}return p=t.child,t=p.sibling,u=Or(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function ic(t,r){return r=yl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function il(t,r,o,u){return u!==null&&Nu(u),ps(r,t.child,null,o),t=ic(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jy(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=Ju(Error(n(422))),il(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=yl({mode:"visible",children:u.children},h,0,null),p=wi(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&ps(r,t.child,null,v),r.child.memoizedState=rc(v),r.memoizedState=nc,p);if((r.mode&1)===0)return il(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var I=u.dgst;return u=I,p=Error(n(419)),u=Ju(p,u,void 0),il(t,r,v,u)}if(I=(v&t.childLanes)!==0,Gt||I){if(u=yt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,sr(t,h),kn(u,t,h,-1))}return wc(),u=Ju(Error(n(421))),il(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Yy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Sr(h.nextSibling),tn=r,Ge=!0,An=null,t!==null&&(un[cn++]=rr,un[cn++]=ir,un[cn++]=hi,rr=t.id,ir=t.overflow,hi=r),r=ic(r,u.children),r.flags|=4096,r)}function Vd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ou(t.return,r,o)}function sc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Dd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Qe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vd(t,o,r);else if(t.tag===19)Vd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Qe,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Xa(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),sc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Xa(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}sc(r,!0,o,null,p);break;case"together":sc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function sl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function ar(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),gi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Or(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Or(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Fy(t,r,o){switch(r.tag){case 3:kd(r),ds();break;case 5:Gf(r);break;case 1:Wt(r.type)&&Ba(r);break;case 4:Fu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(Ga,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Qe,Qe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Nd(t,r,o):($e(Qe,Qe.current&1),t=ar(t,r,o),t!==null?t.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Dd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Qe,Qe.current),u)break;return null;case 22:case 23:return r.lanes=0,Cd(t,r,o)}return ar(t,r,o)}var Ld,oc,Od,Md;Ld=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},oc=function(){},Od=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,pi(bn.current);var p=null;switch(o){case"input":h=Gr(t,h),u=Gr(t,u),p=[];break;case"select":h=ne({},h,{value:void 0}),u=ne({},u,{value:void 0}),p=[];break;case"textarea":h=Ws(t,h),u=Ws(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Fa)}Js(o,u);var v;o=null;for(b in h)if(!u.hasOwnProperty(b)&&h.hasOwnProperty(b)&&h[b]!=null)if(b==="style"){var I=h[b];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in u){var P=u[b];if(I=h?.[b],u.hasOwnProperty(b)&&P!==I&&(P!=null||I!=null))if(b==="style")if(I){for(v in I)!I.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&I[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(b,o)),o=P;else b==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(p=p||[]).push(b,P)):b==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(b,""+P):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(a.hasOwnProperty(b)?(P!=null&&b==="onScroll"&&qe("scroll",t),p||I===P||(p=[])):(p=p||[]).push(b,P))}o&&(p=p||[]).push("style",o);var b=p;(r.updateQueue=b)&&(r.flags|=4)}},Md=function(t,r,o,u){o!==u&&(r.flags|=4)};function Do(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Vt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function by(t,r,o){var u=r.pendingProps;switch(Pu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Wt(r.type)&&Ua(),Vt(r),null;case 3:return u=r.stateNode,ys(),He(Ht),He(xt),Bu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,An!==null&&(yc(An),An=null))),oc(t,r),Vt(r),null;case 5:bu(r);var h=pi(Po.current);if(o=r.type,t!==null&&r.stateNode!=null)Od(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Vt(r),null}if(t=pi(bn.current),Ha(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Fn]=r,u[Io]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<wo.length;h++)qe(wo[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":Vi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":Li(u,p),qe("invalid",u)}Js(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?u.textContent!==I&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,I,t),h=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&ja(u.textContent,I,t),h=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&qe("scroll",u)}switch(o){case"input":Hn(u),ua(u,p,!0);break;case"textarea":Hn(u),Gs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Fa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ut(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Fn]=r,t[Io]=u,Ld(t,r,!1,!1),r.stateNode=t;e:{switch(v=Zs(o,u),o){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<wo.length;h++)qe(wo[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":Vi(t,u),h=Gr(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ne({},u,{value:void 0}),qe("invalid",t);break;case"textarea":Li(t,u),h=Ws(t,u),qe("invalid",t);break;default:h=u}Js(o,h),I=h;for(p in I)if(I.hasOwnProperty(p)){var P=I[p];p==="style"?Ys(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Qs(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&dr(t,P):typeof P=="number"&&dr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&ce(t,p,P,v))}switch(o){case"input":Hn(t),ua(t,u,!1);break;case"textarea":Hn(t),Gs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Oe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Gn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Gn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Fa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Vt(r),null;case 6:if(t&&r.stateNode!=null)Md(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=pi(Po.current),pi(bn.current),Ha(r)){if(u=r.stateNode,o=r.memoizedProps,u[Fn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:ja(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ja(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Fn]=r,r.stateNode=u}return Vt(r),null;case 13:if(He(Qe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&nn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)bf(),ds(),r.flags|=98560,p=!1;else if(p=Ha(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Fn]=r}else ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else An!==null&&(yc(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Qe.current&1)!==0?dt===0&&(dt=3):wc())),r.updateQueue!==null&&(r.flags|=4),Vt(r),null);case 4:return ys(),oc(t,r),t===null&&Eo(r.stateNode.containerInfo),Vt(r),null;case 10:return Lu(r.type._context),Vt(r),null;case 17:return Wt(r.type)&&Ua(),Vt(r),null;case 19:if(He(Qe),p=r.memoizedState,p===null)return Vt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)Do(p,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=Xa(t),v!==null){for(r.flags|=128,Do(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Qe,Qe.current&1|2),r.child}t=t.sibling}p.tail!==null&&ze()>Es&&(r.flags|=128,u=!0,Do(p,!1),r.lanes=4194304)}else{if(!u)if(t=Xa(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Do(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ge)return Vt(r),null}else 2*ze()-p.renderingStartTime>Es&&o!==1073741824&&(r.flags|=128,u=!0,Do(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=ze(),r.sibling=null,o=Qe.current,$e(Qe,u?o&1|2:o&1),r):(Vt(r),null);case 22:case 23:return _c(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(rn&1073741824)!==0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Uy(t,r){switch(Pu(r),r.tag){case 1:return Wt(r.type)&&Ua(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ys(),He(Ht),He(xt),Bu(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return bu(r),null;case 13:if(He(Qe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ds()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(Qe),null;case 4:return ys(),null;case 10:return Lu(r.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var ol=!1,Dt=!1,By=typeof WeakSet=="function"?WeakSet:Set,re=null;function _s(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Xe(t,r,u)}else o.current=null}function ac(t,r,o){try{o()}catch(u){Xe(t,r,u)}}var jd=!1;function zy(t,r){if(_u=Er,t=mf(),hu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,I=-1,P=-1,b=0,H=0,G=t,q=null;t:for(;;){for(var ee;G!==o||h!==0&&G.nodeType!==3||(I=v+h),G!==p||u!==0&&G.nodeType!==3||(P=v+u),G.nodeType===3&&(v+=G.nodeValue.length),(ee=G.firstChild)!==null;)q=G,G=ee;for(;;){if(G===t)break t;if(q===o&&++b===h&&(I=v),q===p&&++H===u&&(P=v),(ee=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=ee}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(wu={focusedElem:t,selectionRange:o},Er=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,tt=ie.memoizedState,M=r.stateNode,k=M.getSnapshotBeforeUpdate(r.elementType===r.type?se:Cn(r.type,se),tt);M.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Xe(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=jd,jd=!1,ie}function Lo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&ac(r,o,p)}h=h.next}while(h!==u)}}function al(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function lc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Fd(t){var r=t.alternate;r!==null&&(t.alternate=null,Fd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Fn],delete r[Io],delete r[Su],delete r[Sy],delete r[Ay])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bd(t){return t.tag===5||t.tag===3||t.tag===4}function Ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fa));else if(u!==4&&(t=t.child,t!==null))for(uc(t,r,o),t=t.sibling;t!==null;)uc(t,r,o),t=t.sibling}function cc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(cc(t,r,o),t=t.sibling;t!==null;)cc(t,r,o),t=t.sibling}var It=null,Rn=!1;function xr(t,r,o){for(o=o.child;o!==null;)Bd(t,r,o),o=o.sibling}function Bd(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 5:Dt||_s(o,r);case 6:var u=It,h=Rn;It=null,xr(t,r,o),It=u,Rn=h,It!==null&&(Rn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(Rn?(t=It,o=o.stateNode,t.nodeType===8?Iu(t.parentNode,o):t.nodeType===1&&Iu(t,o),Tn(t)):Iu(It,o.stateNode));break;case 4:u=It,h=Rn,It=o.stateNode.containerInfo,Rn=!0,xr(t,r,o),It=u,Rn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&ac(o,r,v),h=h.next}while(h!==u)}xr(t,r,o);break;case 1:if(!Dt&&(_s(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){Xe(o,r,I)}xr(t,r,o);break;case 21:xr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,xr(t,r,o),Dt=u):xr(t,r,o);break;default:xr(t,r,o)}}function zd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new By),r.forEach(function(u){var h=Xy.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:It=I.stateNode,Rn=!1;break e;case 3:It=I.stateNode.containerInfo,Rn=!0;break e;case 4:It=I.stateNode.containerInfo,Rn=!0;break e}I=I.return}if(It===null)throw Error(n(160));Bd(p,v,h),It=null,Rn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(b){Xe(h,r,b)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)$d(r,t),r=r.sibling}function $d(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),Bn(t),u&4){try{Lo(3,t,t.return),al(3,t)}catch(se){Xe(t,t.return,se)}try{Lo(5,t,t.return)}catch(se){Xe(t,t.return,se)}}break;case 1:Pn(r,t),Bn(t),u&512&&o!==null&&_s(o,o.return);break;case 5:if(Pn(r,t),Bn(t),u&512&&o!==null&&_s(o,o.return),t.flags&32){var h=t.stateNode;try{dr(h,"")}catch(se){Xe(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,I=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&qs(h,p),Zs(I,v);var b=Zs(I,p);for(v=0;v<P.length;v+=2){var H=P[v],G=P[v+1];H==="style"?Ys(h,G):H==="dangerouslySetInnerHTML"?Qs(h,G):H==="children"?dr(h,G):ce(h,H,G,b)}switch(I){case"input":Hs(h,p);break;case"textarea":Oi(h,p);break;case"select":var q=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?Gn(h,!!p.multiple,ee,!1):q!==!!p.multiple&&(p.defaultValue!=null?Gn(h,!!p.multiple,p.defaultValue,!0):Gn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Io]=p}catch(se){Xe(t,t.return,se)}}break;case 6:if(Pn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(se){Xe(t,t.return,se)}}break;case 3:if(Pn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(se){Xe(t,t.return,se)}break;case 4:Pn(r,t),Bn(t);break;case 13:Pn(r,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(dc=ze())),u&4&&zd(t);break;case 22:if(H=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(b=Dt)||H,Pn(r,t),Dt=b):Pn(r,t),Bn(t),u&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!H&&(t.mode&1)!==0)for(re=t,H=t.child;H!==null;){for(G=re=H;re!==null;){switch(q=re,ee=q.child,q.tag){case 0:case 11:case 14:case 15:Lo(4,q,q.return);break;case 1:_s(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){u=q,o=q.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){Xe(u,o,se)}}break;case 5:_s(q,q.return);break;case 22:if(q.memoizedState!==null){Wd(G);continue}}ee!==null?(ee.return=q,re=ee):Wd(G)}H=H.sibling}e:for(H=null,G=t;;){if(G.tag===5){if(H===null){H=G;try{h=G.stateNode,b?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=G.stateNode,P=G.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=Ks("display",v))}catch(se){Xe(t,t.return,se)}}}else if(G.tag===6){if(H===null)try{G.stateNode.nodeValue=b?"":G.memoizedProps}catch(se){Xe(t,t.return,se)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;H===G&&(H=null),G=G.return}H===G&&(H=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Pn(r,t),Bn(t),u&4&&zd(t);break;case 21:break;default:Pn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(bd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(dr(h,""),u.flags&=-33);var p=Ud(t);cc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,I=Ud(t);uc(t,I,v);break;default:throw Error(n(161))}}catch(P){Xe(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function $y(t,r,o){re=t,qd(t)}function qd(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||ol;if(!v){var I=h.alternate,P=I!==null&&I.memoizedState!==null||Dt;I=ol;var b=Dt;if(ol=v,(Dt=P)&&!b)for(re=h;re!==null;)v=re,P=v.child,v.tag===22&&v.memoizedState!==null?Gd(h):P!==null?(P.return=v,re=P):Gd(h);for(;p!==null;)re=p,qd(p),p=p.sibling;re=h,ol=I,Dt=b}Hd(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,re=p):Hd(t)}}function Hd(t){for(;re!==null;){var r=re;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Dt||al(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Cn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Wf(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Wf(r,v,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var b=r.alternate;if(b!==null){var H=b.memoizedState;if(H!==null){var G=H.dehydrated;G!==null&&Tn(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&lc(r)}catch(q){Xe(r,r.return,q)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function Wd(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function Gd(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{al(4,r)}catch(P){Xe(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){Xe(r,h,P)}}var p=r.return;try{lc(r)}catch(P){Xe(r,p,P)}break;case 5:var v=r.return;try{lc(r)}catch(P){Xe(r,v,P)}}}catch(P){Xe(r,r.return,P)}if(r===t){re=null;break}var I=r.sibling;if(I!==null){I.return=r.return,re=I;break}re=r.return}}var qy=Math.ceil,ll=ve.ReactCurrentDispatcher,hc=ve.ReactCurrentOwner,dn=ve.ReactCurrentBatchConfig,xe=0,yt=null,st=null,St=0,rn=0,ws=Ar(0),dt=0,Oo=null,gi=0,ul=0,fc=0,Mo=null,Qt=null,dc=0,Es=1/0,lr=null,cl=!1,pc=null,Nr=null,hl=!1,Vr=null,fl=0,jo=0,mc=null,dl=-1,pl=0;function Bt(){return(xe&6)!==0?ze():dl!==-1?dl:dl=ze()}function Dr(t){return(t.mode&1)===0?1:(xe&2)!==0&&St!==0?St&-St:Ry.transition!==null?(pl===0&&(pl=ii()),pl):(t=Se,t!==0||(t=window.event,t=t===void 0?16:co(t.type)),t)}function kn(t,r,o,u){if(50<jo)throw jo=0,mc=null,Error(n(185));yr(t,o,u),((xe&2)===0||t!==yt)&&(t===yt&&((xe&2)===0&&(ul|=o),dt===4&&Lr(t,St)),Kt(t,u),o===1&&xe===0&&(r.mode&1)===0&&(Es=ze()+500,za&&Rr()))}function Kt(t,r){var o=t.callbackNode;Yn(t,r);var u=ri(t,t===yt?St:0);if(u===0)o!==null&&so(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&so(o),r===1)t.tag===0?Cy(Kd.bind(null,t)):Lf(Kd.bind(null,t)),Ty(function(){(xe&6)===0&&Rr()}),o=null;else{switch(_r(u)){case 1:o=ti;break;case 4:o=pr;break;case 16:o=on;break;case 536870912:o=pa;break;default:o=on}o=rp(o,Qd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Qd(t,r){if(dl=-1,pl=0,(xe&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ts()&&t.callbackNode!==o)return null;var u=ri(t,t===yt?St:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=ml(t,u);else{r=u;var h=xe;xe|=2;var p=Xd();(yt!==t||St!==r)&&(lr=null,Es=ze()+500,vi(t,r));do try{Gy();break}catch(I){Yd(t,I)}while(!0);Du(),ll.current=p,xe=h,st!==null?r=0:(yt=null,St=0,r=dt)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=gc(t,h))),r===1)throw o=Oo,vi(t,0),Lr(t,u),Kt(t,ze()),o;if(r===6)Lr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!Hy(h)&&(r=ml(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=gc(t,p))),r===1))throw o=Oo,vi(t,0),Lr(t,u),Kt(t,ze()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:_i(t,Qt,lr);break;case 3:if(Lr(t,u),(u&130023424)===u&&(r=dc+500-ze(),10<r)){if(ri(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Tu(_i.bind(null,t,Qt,lr),r);break}_i(t,Qt,lr);break;case 4:if(Lr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ft(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*qy(u/1960))-u,10<u){t.timeoutHandle=Tu(_i.bind(null,t,Qt,lr),u);break}_i(t,Qt,lr);break;case 5:_i(t,Qt,lr);break;default:throw Error(n(329))}}}return Kt(t,ze()),t.callbackNode===o?Qd.bind(null,t):null}function gc(t,r){var o=Mo;return t.current.memoizedState.isDehydrated&&(vi(t,r).flags|=256),t=ml(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&yc(r)),t}function yc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function Hy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(t,r){for(r&=~fc,r&=~ul,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function Kd(t){if((xe&6)!==0)throw Error(n(327));Ts();var r=ri(t,0);if((r&1)===0)return Kt(t,ze()),null;var o=ml(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=gc(t,u))}if(o===1)throw o=Oo,vi(t,0),Lr(t,r),Kt(t,ze()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,_i(t,Qt,lr),Kt(t,ze()),null}function vc(t,r){var o=xe;xe|=1;try{return t(r)}finally{xe=o,xe===0&&(Es=ze()+500,za&&Rr())}}function yi(t){Vr!==null&&Vr.tag===0&&(xe&6)===0&&Ts();var r=xe;xe|=1;var o=dn.transition,u=Se;try{if(dn.transition=null,Se=1,t)return t()}finally{Se=u,dn.transition=o,xe=r,(xe&6)===0&&Rr()}}function _c(){rn=ws.current,He(ws)}function vi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ey(o)),st!==null)for(o=st.return;o!==null;){var u=o;switch(Pu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ua();break;case 3:ys(),He(Ht),He(xt),Bu();break;case 5:bu(u);break;case 4:ys();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:Lu(u.type._context);break;case 22:case 23:_c()}o=o.return}if(yt=t,st=t=Or(t.current,null),St=rn=r,dt=0,Oo=null,fc=ul=gi=0,Qt=Mo=null,di!==null){for(r=0;r<di.length;r++)if(o=di[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}di=null}return t}function Yd(t,r){do{var o=st;try{if(Du(),Ja.current=nl,Za){for(var u=Ke.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}Za=!1}if(mi=0,gt=ft=Ke=null,ko=!1,xo=0,hc.current=null,o===null||o.return===null){dt=1,Oo=r,st=null;break}e:{var p=t,v=o.return,I=o,P=r;if(r=St,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var b=P,H=I,G=H.tag;if((H.mode&1)===0&&(G===0||G===11||G===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var ee=Ed(v);if(ee!==null){ee.flags&=-257,Td(ee,v,I,p,r),ee.mode&1&&wd(p,b,r),r=ee,P=b;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(P),r.updateQueue=se}else ie.add(P);break e}else{if((r&1)===0){wd(p,b,r),wc();break e}P=Error(n(426))}}else if(Ge&&I.mode&1){var tt=Ed(v);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Td(tt,v,I,p,r),Nu(vs(P,I));break e}}p=P=vs(P,I),dt!==4&&(dt=2),Mo===null?Mo=[p]:Mo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=vd(p,P,r);Hf(p,M);break e;case 1:I=P;var k=p.type,F=p.stateNode;if((p.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Nr===null||!Nr.has(F)))){p.flags|=65536,r&=-r,p.lanes|=r;var Y=_d(p,I,r);Hf(p,Y);break e}}p=p.return}while(p!==null)}Zd(o)}catch(le){r=le,st===o&&o!==null&&(st=o=o.return);continue}break}while(!0)}function Xd(){var t=ll.current;return ll.current=nl,t===null?nl:t}function wc(){(dt===0||dt===3||dt===2)&&(dt=4),yt===null||(gi&268435455)===0&&(ul&268435455)===0||Lr(yt,St)}function ml(t,r){var o=xe;xe|=2;var u=Xd();(yt!==t||St!==r)&&(lr=null,vi(t,r));do try{Wy();break}catch(h){Yd(t,h)}while(!0);if(Du(),xe=o,ll.current=u,st!==null)throw Error(n(261));return yt=null,St=0,dt}function Wy(){for(;st!==null;)Jd(st)}function Gy(){for(;st!==null&&!fa();)Jd(st)}function Jd(t){var r=np(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Zd(t):st=r,hc.current=null}function Zd(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=by(o,r,rn),o!==null){st=o;return}}else{if(o=Uy(o,r),o!==null){o.flags&=32767,st=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,st=null;return}}if(r=r.sibling,r!==null){st=r;return}st=r=t}while(r!==null);dt===0&&(dt=5)}function _i(t,r,o){var u=Se,h=dn.transition;try{dn.transition=null,Se=1,Qy(t,r,o,u)}finally{dn.transition=h,Se=u}return null}function Qy(t,r,o,u){do Ts();while(Vr!==null);if((xe&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===yt&&(st=yt=null,St=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||hl||(hl=!0,rp(on,function(){return Ts(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=dn.transition,dn.transition=null;var v=Se;Se=1;var I=xe;xe|=4,hc.current=null,zy(t,o),$d(o,t),py(wu),Er=!!_u,wu=_u=null,t.current=o,$y(o),ru(),xe=I,Se=v,dn.transition=p}else t.current=o;if(hl&&(hl=!1,Vr=t,fl=h),p=t.pendingLanes,p===0&&(Nr=null),ma(o.stateNode),Kt(t,ze()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(cl)throw cl=!1,t=pc,pc=null,t;return(fl&1)!==0&&t.tag!==0&&Ts(),p=t.pendingLanes,(p&1)!==0?t===mc?jo++:(jo=0,mc=t):jo=0,Rr(),null}function Ts(){if(Vr!==null){var t=_r(fl),r=dn.transition,o=Se;try{if(dn.transition=null,Se=16>t?16:t,Vr===null)var u=!1;else{if(t=Vr,Vr=null,fl=0,(xe&6)!==0)throw Error(n(331));var h=xe;for(xe|=4,re=t.current;re!==null;){var p=re,v=p.child;if((re.flags&16)!==0){var I=p.deletions;if(I!==null){for(var P=0;P<I.length;P++){var b=I[P];for(re=b;re!==null;){var H=re;switch(H.tag){case 0:case 11:case 15:Lo(8,H,p)}var G=H.child;if(G!==null)G.return=H,re=G;else for(;re!==null;){H=re;var q=H.sibling,ee=H.return;if(Fd(H),H===b){re=null;break}if(q!==null){q.return=ee,re=q;break}re=ee}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var tt=se.sibling;se.sibling=null,se=tt}while(se!==null)}}re=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,re=v;else e:for(;re!==null;){if(p=re,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Lo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,re=M;break e}re=p.return}}var k=t.current;for(re=k;re!==null;){v=re;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,re=F;else e:for(v=k;re!==null;){if(I=re,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:al(9,I)}}catch(le){Xe(I,I.return,le)}if(I===v){re=null;break e}var Y=I.sibling;if(Y!==null){Y.return=I.return,re=Y;break e}re=I.return}}if(xe=h,Rr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ni,t)}catch{}u=!0}return u}finally{Se=o,dn.transition=r}}return!1}function ep(t,r,o){r=vs(o,r),r=vd(t,r,1),t=kr(t,r,1),r=Bt(),t!==null&&(yr(t,1,r),Kt(t,r))}function Xe(t,r,o){if(t.tag===3)ep(t,t,o);else for(;r!==null;){if(r.tag===3){ep(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Nr===null||!Nr.has(u))){t=vs(o,t),t=_d(r,t,1),r=kr(r,t,1),t=Bt(),r!==null&&(yr(r,1,t),Kt(r,t));break}}r=r.return}}function Ky(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Bt(),t.pingedLanes|=t.suspendedLanes&o,yt===t&&(St&o)===o&&(dt===4||dt===3&&(St&130023424)===St&&500>ze()-dc?vi(t,0):fc|=o),Kt(t,r)}function tp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Hi,Hi<<=1,(Hi&130023424)===0&&(Hi=4194304)));var o=Bt();t=sr(t,r),t!==null&&(yr(t,r,o),Kt(t,o))}function Yy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),tp(t,o)}function Xy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),tp(t,o)}var np;np=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Gt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Gt=!1,Fy(t,r,o);Gt=(t.flags&131072)!==0}else Gt=!1,Ge&&(r.flags&1048576)!==0&&Of(r,qa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;sl(t,r),t=r.pendingProps;var h=cs(r,xt.current);gs(r,o),h=qu(null,r,u,t,h,o);var p=Hu();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(u)?(p=!0,Ba(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ju(r),h.updater=rl,r.stateNode=h,h._reactInternals=r,Xu(r,u,t,o),r=tc(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&Ru(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(sl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Zy(u),t=Cn(u,t),h){case 0:r=ec(null,r,u,t,o);break e;case 1:r=Pd(null,r,u,t,o);break e;case 11:r=Id(null,r,u,t,o);break e;case 14:r=Sd(null,r,u,Cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),ec(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Pd(t,r,u,h,o);case 3:e:{if(kd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,qf(t,r),Ya(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=vs(Error(n(423)),r),r=xd(t,r,u,o,h);break e}else if(u!==h){h=vs(Error(n(424)),r),r=xd(t,r,u,o,h);break e}else for(nn=Sr(r.stateNode.containerInfo.firstChild),tn=r,Ge=!0,An=null,o=zf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ds(),u===h){r=ar(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return Gf(r),t===null&&xu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,Eu(u,h)?v=null:p!==null&&Eu(u,p)&&(r.flags|=32),Rd(t,r),Ut(t,r,v,o),r.child;case 6:return t===null&&xu(r),null;case 13:return Nd(t,r,o);case 4:return Fu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ps(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Id(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,$e(Ga,u._currentValue),u._currentValue=v,p!==null)if(Sn(p.value,v)){if(p.children===h.children&&!Ht.current){r=ar(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var P=I.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=or(-1,o&-o),P.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var H=b.pending;H===null?P.next=P:(P.next=H.next,H.next=P),b.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Ou(p.return,o,r),I.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),Ou(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,gs(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Cn(u,r.pendingProps),h=Cn(u.type,h),Sd(t,r,u,h,o);case 15:return Ad(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),sl(t,r),r.tag=1,Wt(u)?(t=!0,Ba(r)):t=!1,gs(r,o),gd(r,u,h),Xu(r,u,h,o),tc(null,r,u,!0,t,o);case 19:return Dd(t,r,o);case 22:return Cd(t,r,o)}throw Error(n(156,r.tag))};function rp(t,r){return $i(t,r)}function Jy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new Jy(t,r,o,u)}function Ec(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zy(t){if(typeof t=="function")return Ec(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Pt)return 14}return 2}function Or(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function gl(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")Ec(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case N:return wi(o.children,h,p,r);case S:v=8,h|=8;break;case C:return t=pn(12,o,r,h|2),t.elementType=C,t.lanes=p,t;case A:return t=pn(13,o,r,h),t.elementType=A,t.lanes=p,t;case Ze:return t=pn(19,o,r,h),t.elementType=Ze,t.lanes=p,t;case be:return yl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:v=10;break e;case V:v=9;break e;case L:v=11;break e;case Pt:v=14;break e;case kt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function wi(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function yl(t,r,o,u){return t=pn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function Tc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Ic(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function ev(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gr(0),this.expirationTimes=gr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Sc(t,r,o,u,h,p,v,I,P){return t=new ev(t,r,o,I,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ju(p),t}function tv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function ip(t){if(!t)return Cr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return Vf(t,o,r)}return r}function sp(t,r,o,u,h,p,v,I,P){return t=Sc(o,u,!0,t,h,p,v,I,P),t.context=ip(null),o=t.current,u=Bt(),h=Dr(o),p=or(u,h),p.callback=r??null,kr(o,p,h),t.current.lanes=h,yr(t,h,u),Kt(t,u),t}function vl(t,r,o,u){var h=r.current,p=Bt(),v=Dr(h);return o=ip(o),r.context===null?r.context=o:r.pendingContext=o,r=or(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=kr(h,r,v),t!==null&&(kn(t,h,v,p),Ka(t,h,v)),v}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function op(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Ac(t,r){op(t,r),(t=t.alternate)&&op(t,r)}function nv(){return null}var ap=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cc(t){this._internalRoot=t}wl.prototype.render=Cc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));vl(t,r,null,null)},wl.prototype.unmount=Cc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;yi(function(){vl(null,t,null,null)}),r[tr]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var r=wa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Ln.length&&r!==0&&r<Ln[o].priority;o++);Ln.splice(o,0,t),o===0&&Ia(t)}};function Rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lp(){}function rv(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var b=_l(v);p.call(b)}}var v=sp(r,u,t,0,null,!1,!1,"",lp);return t._reactRootContainer=v,t[tr]=v.current,Eo(t.nodeType===8?t.parentNode:t),yi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var I=u;u=function(){var b=_l(P);I.call(b)}}var P=Sc(t,0,!1,null,null,!1,!1,"",lp);return t._reactRootContainer=P,t[tr]=P.current,Eo(t.nodeType===8?t.parentNode:t),yi(function(){vl(r,P,o,u)}),P}function Tl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var I=h;h=function(){var P=_l(v);I.call(P)}}vl(r,v,t,h)}else v=rv(o,r,t,h,u);return _l(v)}va=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=mr(r.pendingLanes);o!==0&&(vr(r,o|1),Kt(r,ze()),(xe&6)===0&&(Es=ze()+500,Rr()))}break;case 13:yi(function(){var u=sr(t,1);if(u!==null){var h=Bt();kn(u,t,1,h)}}),Ac(t,1)}},Wi=function(t){if(t.tag===13){var r=sr(t,134217728);if(r!==null){var o=Bt();kn(r,t,134217728,o)}Ac(t,134217728)}},_a=function(t){if(t.tag===13){var r=Dr(t),o=sr(t,r);if(o!==null){var u=Bt();kn(o,t,r,u)}Ac(t,r)}},wa=function(){return Se},Ea=function(t,r){var o=Se;try{return Se=t,r()}finally{Se=o}},ji=function(t,r,o){switch(r){case"input":if(Hs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=ba(u);if(!h)throw Error(n(90));Ni(u),Hs(u,h)}}}break;case"textarea":Oi(t,o);break;case"select":r=o.value,r!=null&&Gn(t,!!o.multiple,r,!1)}},Xr=vc,to=yi;var iv={usingClientEntryPoint:!1,Events:[So,ls,ba,Vn,eo,vc]},Fo={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sv={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=io(t),t===null?null:t.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{ni=Il.inject(sv),Xt=Il}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rc(r))throw Error(n(200));return tv(t,r,null,o)},Yt.createRoot=function(t,r){if(!Rc(t))throw Error(n(299));var o=!1,u="",h=ap;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Sc(t,1,!1,null,null,o,!1,u,h),t[tr]=r.current,Eo(t.nodeType===8?t.parentNode:t),new Cc(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=io(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return yi(t)},Yt.hydrate=function(t,r,o){if(!El(r))throw Error(n(200));return Tl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!Rc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=ap;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=sp(r,null,t,1,o??null,h,!1,p,v),t[tr]=r.current,Eo(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new wl(r)},Yt.render=function(t,r,o){if(!El(r))throw Error(n(200));return Tl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!El(t))throw Error(n(40));return t._reactRootContainer?(yi(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1},Yt.unstable_batchedUpdates=vc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!El(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Tl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var gp;function Am(){if(gp)return xc.exports;gp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),xc.exports=pv(),xc.exports}var yp;function mv(){if(yp)return Sl;yp=1;var i=Am();return Sl.createRoot=i.createRoot,Sl.hydrateRoot=i.hydrateRoot,Sl}var gv=mv();const yv=Im(gv);Am();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Qo.apply(this,arguments)}var jr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(jr||(jr={}));const vp="popstate";function vv(i){i===void 0&&(i={});function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return qc("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ol(a)}return wv(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Cm(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _v(){return Math.random().toString(36).substr(2,8)}function _p(i,e){return{usr:i.state,key:i.key,idx:e}}function qc(i,e,n,s){return n===void 0&&(n=null),Qo({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||s||_v()})}function Ol(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function js(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function wv(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m=jr.Pop,y=null,_=E();_==null&&(_=0,f.replaceState(Qo({},f.state,{idx:_}),""));function E(){return(f.state||{idx:null}).idx}function R(){m=jr.Pop;let B=E(),pe=B==null?null:B-_;_=B,y&&y({action:m,location:K.location,delta:pe})}function j(B,pe){m=jr.Push;let ge=qc(K.location,B,pe);_=E()+1;let ce=_p(ge,_),ve=K.createHref(ge);try{f.pushState(ce,"",ve)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;a.location.assign(ve)}c&&y&&y({action:m,location:K.location,delta:1})}function z(B,pe){m=jr.Replace;let ge=qc(K.location,B,pe);_=E();let ce=_p(ge,_),ve=K.createHref(ge);f.replaceState(ce,"",ve),c&&y&&y({action:m,location:K.location,delta:0})}function Q(B){let pe=a.location.origin!=="null"?a.location.origin:a.location.href,ge=typeof B=="string"?B:Ol(B);return ge=ge.replace(/ $/,"%20"),lt(pe,"No window.location.(origin|href) available to create URL for href: "+ge),new URL(ge,pe)}let K={get action(){return m},get location(){return i(a,f)},listen(B){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(vp,R),y=B,()=>{a.removeEventListener(vp,R),y=null}},createHref(B){return e(a,B)},createURL:Q,encodeLocation(B){let pe=Q(B);return{pathname:pe.pathname,search:pe.search,hash:pe.hash}},push:j,replace:z,go(B){return f.go(B)}};return K}var wp;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(wp||(wp={}));function Ev(i,e,n){return n===void 0&&(n="/"),Tv(i,e,n)}function Tv(i,e,n,s){let a=typeof e=="string"?js(e):e,c=vh(a.pathname||"/",n);if(c==null)return null;let f=Rm(i);Iv(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let _=Ov(c);m=Vv(f[y],_)}return m}function Rm(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(lt(y.relativePath.startsWith(s),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(s.length));let _=Ur([s,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(lt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+_+'".')),Rm(c.children,e,E,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:xv(_,c.index),routesMeta:E})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let y of Pm(c.path))a(c,f,y)}),e}function Pm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Pm(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function Iv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Nv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Sv=/^:[\w-]+$/,Av=3,Cv=2,Rv=1,Pv=10,kv=-2,Ep=i=>i==="*";function xv(i,e){let n=i.split("/"),s=n.length;return n.some(Ep)&&(s+=kv),e&&(s+=Cv),n.filter(a=>!Ep(a)).reduce((a,c)=>a+(Sv.test(c)?Av:c===""?Rv:Pv),s)}function Nv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function Vv(i,e,n){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],_=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",R=Dv({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),j=y.route;if(!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:Ur([c,R.pathname]),pathnameBase:bv(Ur([c,R.pathnameBase])),route:j}),R.pathnameBase!=="/"&&(c=Ur([c,R.pathnameBase]))}return f}function Dv(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Lv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,E,R)=>{let{paramName:j,isOptional:z}=E;if(j==="*"){let K=m[R]||"";f=c.slice(0,c.length-K.length).replace(/(.)\/+$/,"$1")}const Q=m[R];return z&&!Q?_[j]=void 0:_[j]=(Q||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function Lv(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cm(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Ov(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cm(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function vh(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Mv(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?js(i):i;return{pathname:n?n.startsWith("/")?n:jv(n,e):e,search:Uv(s),hash:Bv(a)}}function jv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Dc(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function km(i,e){let n=Fv(i);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function xm(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=js(i):(a=Qo({},i),lt(!a.pathname||!a.pathname.includes("?"),Dc("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),Dc("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),Dc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),R-=1;a.pathname=j.join("/")}m=R>=0?e[R]:"/"}let y=Mv(a,m),_=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}const Ur=i=>i.join("/").replace(/\/\/+/g,"/"),bv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Uv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Bv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function zv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Nm=["post","put","patch","delete"];new Set(Nm);const $v=["get",...Nm];new Set($v);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Ko.apply(this,arguments)}const _h=te.createContext(null),qv=te.createContext(null),ki=te.createContext(null),Wl=te.createContext(null),xi=te.createContext({outlet:null,matches:[],isDataRoute:!1}),Vm=te.createContext(null);function Hv(i,e){let{relative:n}=e===void 0?{}:e;ra()||lt(!1);let{basename:s,navigator:a}=te.useContext(ki),{hash:c,pathname:f,search:m}=Lm(i,{relative:n}),y=f;return s!=="/"&&(y=f==="/"?s:Ur([s,f])),a.createHref({pathname:y,search:m,hash:c})}function ra(){return te.useContext(Wl)!=null}function Fs(){return ra()||lt(!1),te.useContext(Wl).location}function Dm(i){te.useContext(ki).static||te.useLayoutEffect(i)}function Wv(){let{isDataRoute:i}=te.useContext(xi);return i?s_():Gv()}function Gv(){ra()||lt(!1);let i=te.useContext(_h),{basename:e,future:n,navigator:s}=te.useContext(ki),{matches:a}=te.useContext(xi),{pathname:c}=Fs(),f=JSON.stringify(km(a,n.v7_relativeSplatPath)),m=te.useRef(!1);return Dm(()=>{m.current=!0}),te.useCallback(function(_,E){if(E===void 0&&(E={}),!m.current)return;if(typeof _=="number"){s.go(_);return}let R=xm(_,JSON.parse(f),c,E.relative==="path");i==null&&e!=="/"&&(R.pathname=R.pathname==="/"?e:Ur([e,R.pathname])),(E.replace?s.replace:s.push)(R,E.state,E)},[e,s,f,c,i])}function Lm(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=te.useContext(ki),{matches:a}=te.useContext(xi),{pathname:c}=Fs(),f=JSON.stringify(km(a,s.v7_relativeSplatPath));return te.useMemo(()=>xm(i,JSON.parse(f),c,n==="path"),[i,f,c,n])}function Qv(i,e){return Kv(i,e)}function Kv(i,e,n,s){ra()||lt(!1);let{navigator:a}=te.useContext(ki),{matches:c}=te.useContext(xi),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let y=f?f.pathnameBase:"/";f&&f.route;let _=Fs(),E;if(e){var R;let B=typeof e=="string"?js(e):e;y==="/"||(R=B.pathname)!=null&&R.startsWith(y)||lt(!1),E=B}else E=_;let j=E.pathname||"/",z=j;if(y!=="/"){let B=y.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(B.length).join("/")}let Q=Ev(i,{pathname:z}),K=e_(Q&&Q.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Ur([y,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Ur([y,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,n,s);return e&&K?te.createElement(Wl.Provider,{value:{location:Ko({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:jr.Pop}},K):K}function Yv(){let i=i_(),e=zv(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:a},n):null,null)}const Xv=te.createElement(Yv,null);class Jv extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(xi.Provider,{value:this.props.routeContext},te.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zv(i){let{routeContext:e,match:n,children:s}=i,a=te.useContext(_h);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(xi.Provider,{value:e},s)}function e_(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if(!n)return null;if(n.errors)i=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let f=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let E=f.findIndex(R=>R.route.id&&m?.[R.route.id]!==void 0);E>=0||lt(!1),f=f.slice(0,Math.min(f.length,E+1))}let y=!1,_=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<f.length;E++){let R=f[E];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(_=E),R.route.id){let{loaderData:j,errors:z}=n,Q=R.route.loader&&j[R.route.id]===void 0&&(!z||z[R.route.id]===void 0);if(R.route.lazy||Q){y=!0,_>=0?f=f.slice(0,_+1):f=[f[0]];break}}}return f.reduceRight((E,R,j)=>{let z,Q=!1,K=null,B=null;n&&(z=m&&R.route.id?m[R.route.id]:void 0,K=R.route.errorElement||Xv,y&&(_<0&&j===0?(o_("route-fallback"),Q=!0,B=null):_===j&&(Q=!0,B=R.route.hydrateFallbackElement||null)));let pe=e.concat(f.slice(0,j+1)),ge=()=>{let ce;return z?ce=K:Q?ce=B:R.route.Component?ce=te.createElement(R.route.Component,null):R.route.element?ce=R.route.element:ce=E,te.createElement(Zv,{match:R,routeContext:{outlet:E,matches:pe,isDataRoute:n!=null},children:ce})};return n&&(R.route.ErrorBoundary||R.route.errorElement||j===0)?te.createElement(Jv,{location:n.location,revalidation:n.revalidation,component:K,error:z,children:ge(),routeContext:{outlet:null,matches:pe,isDataRoute:!0}}):ge()},null)}var Om=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Om||{}),Mm=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Mm||{});function t_(i){let e=te.useContext(_h);return e||lt(!1),e}function n_(i){let e=te.useContext(qv);return e||lt(!1),e}function r_(i){let e=te.useContext(xi);return e||lt(!1),e}function jm(i){let e=r_(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function i_(){var i;let e=te.useContext(Vm),n=n_(),s=jm();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function s_(){let{router:i}=t_(Om.UseNavigateStable),e=jm(Mm.UseNavigateStable),n=te.useRef(!1);return Dm(()=>{n.current=!0}),te.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,Ko({fromRouteId:e},c)))},[i,e])}const Tp={};function o_(i,e,n){Tp[i]||(Tp[i]=!0)}function a_(i,e){i?.v7_startTransition,i?.v7_relativeSplatPath}function Hc(i){lt(!1)}function l_(i){let{basename:e="/",children:n=null,location:s,navigationType:a=jr.Pop,navigator:c,static:f=!1,future:m}=i;ra()&&lt(!1);let y=e.replace(/^\/*/,"/"),_=te.useMemo(()=>({basename:y,navigator:c,static:f,future:Ko({v7_relativeSplatPath:!1},m)}),[y,m,c,f]);typeof s=="string"&&(s=js(s));let{pathname:E="/",search:R="",hash:j="",state:z=null,key:Q="default"}=s,K=te.useMemo(()=>{let B=vh(E,y);return B==null?null:{location:{pathname:B,search:R,hash:j,state:z,key:Q},navigationType:a}},[y,E,R,j,z,Q,a]);return K==null?null:te.createElement(ki.Provider,{value:_},te.createElement(Wl.Provider,{children:n,value:K}))}function u_(i){let{children:e,location:n}=i;return Qv(Wc(e),n)}new Promise(()=>{});function Wc(i,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(i,(s,a)=>{if(!te.isValidElement(s))return;let c=[...e,a];if(s.type===te.Fragment){n.push.apply(n,Wc(s.props.children,c));return}s.type!==Hc&&lt(!1),!s.props.index||!s.props.children||lt(!1);let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Wc(s.props.children,c)),n.push(f)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Gc.apply(this,arguments)}function c_(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function h_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function f_(i,e){return i.button===0&&(!e||e==="_self")&&!h_(i)}const d_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p_="6";try{window.__reactRouterVersion=p_}catch{}const m_="startTransition",Ip=hv[m_];function g_(i){let{basename:e,children:n,future:s,window:a}=i,c=te.useRef();c.current==null&&(c.current=vv({window:a,v5Compat:!0}));let f=c.current,[m,y]=te.useState({action:f.action,location:f.location}),{v7_startTransition:_}=s||{},E=te.useCallback(R=>{_&&Ip?Ip(()=>y(R)):y(R)},[y,_]);return te.useLayoutEffect(()=>f.listen(E),[f,E]),te.useEffect(()=>a_(s),[s]),te.createElement(l_,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:f,future:s})}const y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,__=te.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:f,state:m,target:y,to:_,preventScrollReset:E,viewTransition:R}=e,j=c_(e,d_),{basename:z}=te.useContext(ki),Q,K=!1;if(typeof _=="string"&&v_.test(_)&&(Q=_,y_))try{let ce=new URL(window.location.href),ve=_.startsWith("//")?new URL(ce.protocol+_):new URL(_),Fe=vh(ve.pathname,z);ve.origin===ce.origin&&Fe!=null?_=Fe+ve.search+ve.hash:K=!0}catch{}let B=Hv(_,{relative:a}),pe=w_(_,{replace:f,state:m,target:y,preventScrollReset:E,relative:a,viewTransition:R});function ge(ce){s&&s(ce),ce.defaultPrevented||pe(ce)}return te.createElement("a",Gc({},j,{href:Q||B,onClick:K||c?s:ge,ref:n,target:y}))});var Sp;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Sp||(Sp={}));var Ap;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Ap||(Ap={}));function w_(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:f,viewTransition:m}=e===void 0?{}:e,y=Wv(),_=Fs(),E=Lm(i,{relative:f});return te.useCallback(R=>{if(f_(R,n)){R.preventDefault();let j=s!==void 0?s:Ol(_)===Ol(E);y(i,{replace:j,state:a,preventScrollReset:c,relative:f,viewTransition:m})}},[_,y,E,s,a,n,i,c,f,m])}const E_=({links:i})=>{const e=Fs();return T.jsx("nav",{className:"main",children:T.jsx("ul",{children:i.map((n,s)=>{const a=n.external?!1:n.url===e.pathname;return T.jsx("li",{className:a?"selected":"",children:n.external?T.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:n.name}):T.jsx(__,{to:n.url,children:n.name})},s)})})})};function T_(){return T.jsx("div",{id:"cover",children:T.jsx("div",{id:"signature",children:T.jsx("div",{children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 450 360",children:[T.jsx("defs",{children:T.jsx("svg",{width:"0",height:"0",children:T.jsx("defs",{children:T.jsxs("linearGradient",{id:"gradient1",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[T.jsx("stop",{offset:"20%",style:{stopColor:"#ea4646",stopOpacity:1}}),T.jsx("stop",{offset:"44%",style:{stopColor:"#498ff7",stopOpacity:1}}),T.jsx("stop",{offset:"100%",style:{stopColor:"#ffffff",stopOpacity:1}})]})})})}),T.jsx("g",{id:"Layer_2","data-name":"Layer 2",children:T.jsxs("g",{id:"Layer_1-2","data-name":"Layer 1",children:[T.jsx("path",{className:"cls-1",d:"M218.89,389.45C215.74,343,206,294.66,188,248.18c-3.83-9.86-9.57-18.92-13-29-1.74-5.12-1.43-9.63,1.6-10.32,4.46-1,6.36,2.75,8.05,6,6.35,12.14,12.47,24.37,17,37.36a68.74,68.74,0,0,0,8.87,16.52,522.78,522.78,0,0,0,40.77,52.18,56.48,56.48,0,0,0,15.52,12.39c1.79,1,2.67.68,3.54-1.14a23.1,23.1,0,0,0,2.16-9.22c.44-10.5.85-21,1.35-31.51a19.59,19.59,0,0,1,.93-5.38c1.12-3.28,3.14-4.81,7-4.11,20.87,3.76,41.58,8.43,62.82,9.88,19.74,1.34,38.21-3.82,56.46-10.39,2-.72,2-1.66.67-3.15-28.92-33.26-52.29-70.41-75.3-107.8-9.16-14.88-16.83-30.56-24.33-46.32a13.13,13.13,0,0,1-.82-2.16c-.77-2.75-.43-5.76,2-7,2.22-1.14,4,1.5,5,3.25,5,8.48,9.55,17.18,14.53,25.65,20.76,35.34,41.52,70.68,65.15,104.23a316.92,316.92,0,0,0,21.7,27.09c1.38,1.56,2.46,1.77,4.4,1,18.26-7.55,36.18-16,55.29-21.27,9.93-2.74,20-4.15,30.34-2.7,20.69,2.9,30.11,24.18,18.18,41.41-10.36,15-25.54,21-43,21.57-21.72.67-40.43-7.45-56.23-21.93-6-5.52-10.83-7.11-19-3.55-22.46,9.78-46.29,10-70.24,6.81a375,375,0,0,1-45-9.25c-3.08-.8-3.78.17-4.24,2.85-1.86,10.72-.39,21.59-1.62,32.33-.46,3.94-.77,7.88-2.37,11.56-2.64,6.05-6,7.66-12.39,6a22.76,22.76,0,0,1-9-5c-14.17-12.05-27-25.35-37.42-40.84-.74-1.11-1.29-3.28-2.93-2.57-1.38.6-.18,2.45.09,3.63,5.43,24,10.34,48.08,11.64,72.74.82,15.52,1.31,31-.79,46.5a15.19,15.19,0,0,1-1.31,4.72c-4.56,9-8.22,11.87-17.52,6.75-6.4-3.52-11.39-8.53-15.92-14.1-17.07-21-32.09-43.43-47.19-65.82-20.06-29.75-41.1-58.81-61.74-88.15-.8-1.14-2.79-2.47-.94-3.89s2.53,1.09,3.34,2c25,28.45,46.88,59.31,69.58,89.53,16.22,21.59,31.5,43.89,48.67,64.77,2.89,3.52,5.88,6.86,10.27,8.66,2.07.85,3,.4,3.9-1.67C219.6,409.28,218.48,400.91,218.89,389.45ZM473.78,309.6a44.32,44.32,0,0,0,14.86-1.87c12.45-4,23.33-10.15,27.69-23.53,3.67-11.24-1.81-20.79-13.17-23.88-7.37-2-14.73-1.37-22,.39-19.75,4.78-38.33,12.92-57.22,20.15-6.45,2.47-6.41,2.45-1.1,7.11C437.43,300.8,453.68,309.73,473.78,309.6Z",transform:"translate(-79.81 -114.7)"}),T.jsx("path",{className:"cls-1",d:"M428.33,419.58c.06-19.32-7-36.3-17.22-52.25-.94-1.46-1.85-2.94-2.86-4.35s-1.91-3.29-.3-4.34,2.1,1.31,2.88,2.22c14.78,17.29,21.71,37.7,23.61,60.07,2.18,25.75-16.88,48.69-42.82,51.82-21.09,2.54-39.9-2.86-56.77-15.57-6.45-4.85-11.21-11.11-15.28-17.94-1-1.62-2-3.88.1-5.12s3.88.36,5,2.23c11.73,19.74,30.57,28,52,31.06,30,4.27,50.89-14.05,51.65-44.35C428.35,421.9,428.33,420.74,428.33,419.58Z",transform:"translate(-79.81 -114.7)"}),T.jsx("path",{className:"cls-1",d:"M453,192.43c-.44,1.31-.77,3-2.55,2.89a3.69,3.69,0,0,1-3.26-3.12c-.1-1.33,1.54-2.41,3.16-2.21C451.69,190.16,453.09,190.55,453,192.43Z",transform:"translate(-79.81 -114.7)"}),T.jsx("path",{className:"cls-1",d:"M362.1,419.82c.13-1.31.22-2.67,2-2.53,1.53.12,2.93.79,2.91,2.52s-1.42,2.14-2.8,2.35C362.33,422.45,362.37,421,362.1,419.82Z",transform:"translate(-79.81 -114.7)"})]})})]})})})})}function I_(){return T.jsx("div",{id:"cover",style:{height:"auto"},children:T.jsxs("div",{className:"brand",children:[T.jsxs("h1",{children:[T.jsx("span",{style:{color:"#bbb"},children:"M."})," Umer ",T.jsx("span",{style:{color:"#bbb"},children:"K."})]}),T.jsx("h3",{children:"Deep Learning Researcher"}),T.jsx("h3",{children:"Creative Developer & Designer"})]})})}function S_({selectedLink:i,links:e}){return T.jsxs(T.Fragment,{children:[T.jsx("div",{style:{textAlign:"center"},children:T.jsx("h1",{children:"Site Map"})}),T.jsx("div",{className:"spacer"}),T.jsx("div",{id:"quicklinks",children:T.jsx("div",{className:"brand",children:T.jsx("div",{children:T.jsx("div",{className:"links",children:e.map((n,s)=>T.jsx("a",{className:(i?.value==n.value?"link active ":"link ")+(n.disabled?"disabled":""),onClick:()=>!n.disabled,disabled:n.disabled,...n.href&&!n.disabled?{href:n.href,target:n.target||""}:{},children:n.text},s))})})})})]})}const A_="/new-portfolio/assets/skills-BarIer3w.png",C_="/new-portfolio/assets/pj-ss1-04zL_OFH.jpg",R_="/new-portfolio/assets/pj-ss2-BKUBHd96.jpg",P_="/new-portfolio/assets/pj-logo-ZaDjH5W4.png",k_="/new-portfolio/assets/drawboard03-D7UFGVIu.jpg",x_="/new-portfolio/assets/drawboard02-Cq9-0Sk-.jpg",N_="/new-portfolio/assets/watchtoday01-CEBwoshz.png",V_="/new-portfolio/assets/watchtoday02-ChN8htEN.png";function zt({title:i,subtitle:e,imgHorizontal:n,images:s,links:a,logo:c,description:f,info:m,titleStyle:y,logoAlt:_,id:E,mirror:R=!1,style:j={}}){return T.jsxs("div",{className:"display",id:E,style:j,children:[T.jsx("div",{className:"anim fadein",style:{order:R?2:0},children:T.jsx("div",{className:"imgs"+(n?" horizontal":""),children:s&&s.map((z,Q)=>{const K=typeof z=="string"?z:z?.src;return z.type==="render"?z.element:T.jsx("img",{src:K,alt:""},Q)})})}),T.jsx("div",{children:T.jsx("div",{className:"brand anim fadeintoright",children:T.jsx("div",{children:T.jsxs("div",{children:[a.map((z,Q)=>T.jsx("a",{className:"btn",href:z.href,target:"_blank",rel:"noopener noreferrer",children:z.text},Q)),T.jsx("br",{}),T.jsxs("div",{className:"titleNicon",children:[c&&T.jsx("img",{src:c,width:"50px",alt:_}),T.jsx("h1",{className:"title",style:y,children:i}),e&&T.jsx("h2",{className:"sub2",children:e})]}),T.jsx("h2",{className:"sub",children:f}),T.jsx("div",{className:"spacer"}),m?Array.isArray(m)?T.jsx("ul",{className:"info",children:m.map((z,Q)=>T.jsx("li",{children:z},Q))}):T.jsx("p",{className:"info",children:m}):null]})})})})]})}function D_(){return T.jsxs("div",{children:[T.jsxs("div",{id:"skills",children:[T.jsx("div",{className:"brand anim fadeintoleft",children:T.jsxs("div",{children:[T.jsx("h1",{className:"inline",children:"Skills"}),T.jsxs("p",{className:"inline",children:["HTML&CSS ",T.jsx("span",{className:"bold",children:"JavaScript"}),T.jsx("br",{}),T.jsx("span",{className:"bold",children:"Node.js"})," Express",T.jsx("span",{className:"bold",children:"React"})," Redux Socket.io",T.jsx("br",{}),T.jsx("span",{className:"bold",children:"Progressive Web Apps"}),T.jsx("br",{}),"p5.js Creative Coding ",T.jsx("span",{className:"bold",children:"Game Development"}),T.jsx("br",{}),T.jsx("span",{className:"bold",children:"Modern"})," Responsive Web & Mobile Design",T.jsx("br",{}),"MongoDB ",T.jsx("span",{className:"bold",children:"Firebase"}),T.jsx("br",{})]})]})}),T.jsx("div",{className:"anim fadein",children:T.jsx("div",{className:"splash anim shrink",children:T.jsx("img",{src:A_,alt:"Skills"})})})]}),T.jsx("h1",{className:"title",children:"JavaScript Web Projects"}),T.jsx(zt,{title:"Prayer Journal",images:[C_,R_],links:[{href:"https://umerkay.github.io/prayerjournal/",text:"Code"},{href:"https://umerkay.github.io/prayerjournal/",text:"View Live"}],logo:P_,logoAlt:"Prayer Journal Logo",description:"A journal for Muslims to record daily obligatory Salah. PWA that syncs across all types of devices",info:["React, with Hooks, Functional Components and the Context API only","Secure and Realtime sync with Firebase Firestore and Authentication","Modern, Minimalist Design. Can work Offline","Makes use of Sass/Scss"],id:"prayerjournal"}),T.jsx(zt,{title:"Drawboard",images:[k_,x_],links:[{href:"https://github.com/umerkay/Drawboard",text:"Code"},{href:"https://cryptic-oasis-85688.herokuapp.com",text:"View Live"}],description:"Realtime Collaborative Drawing Application with Integrated Chat",info:"This application is built using the MERN stack, with MongoDB, Express, React and Node.js. This instance is a project demonstration only and not meant for production. It utilises socket.io for real-time drawing and chat messages, and needlessjs for working with HTML canvases",id:"drawboard",mirror:!0}),T.jsx(zt,{title:T.jsxs(T.Fragment,{children:["Watch",T.jsx("span",{style:{fontStyle:"italic"},children:"Today"})]}),images:[N_,V_],links:[{href:"https://github.com/umerkay/watchtoday",text:"Code"},{href:"https://umerkay.github.io/watchtoday",text:"View Live"}],description:"Simple, Minimalist Movie Explorer Application. Demonstrates Frontend React Skills with the Hooks API",info:["React, with Hooks and Functional Components only","Uses Hash Router","Modern, Minimalist Design","Makes use of Sass/Scss"],id:"watchtoday",mirror:!0})]})}const L_="/new-portfolio/assets/evo1-BcFhVbMz.png",O_="/new-portfolio/assets/evo2-BnfXKzM_.png";function M_(){return T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"title",children:" Math, Intelligence and Physics in JavaScript"}),T.jsx("div",{className:"spacer"}),T.jsx(zt,{title:"Newton's Fractals",links:[{href:"https://github.com/umerkay/Newtons-Fractal/",text:"Code"},{href:"https://umerkay.github.io/Newtons-Fractal/",text:"View Live"}],description:"Renders pretty pictures using Newton's method applied to a fixed polynomial",id:"nf"}),T.jsx(zt,{title:"Optics Simulation",links:[{href:"https://github.com/umerkay/Optics-Simulation",text:"Code"},{href:"https://umerkay.github.io/Optics-Simulation/",text:"View Live"}],description:"Simulation and Demonstration of Complex (Simple) Light Behaviours",info:`This application is built purely in JavaScript. Every reasonable effort has been
        made for mathematic computational efficiency and physical
        accuracy. It simulates reflection, refraction in mediums of
        different shapes and refractive indices, including circles and
        polygons, lens behaviours and light filters.`,id:"optics"}),T.jsx(zt,{title:"Evolution Sandbox",links:[{href:"https://github.com/umerkay/EvolutionSandbox",text:"GitHub"},{href:"https://umerkay.github.io/EvolutionSandbox/",text:"View Live"}],description:"Simulation of Genetic Evolution in Intelligent Autonomous Agents",images:[L_,O_],info:`This simulation is built purely in JavaScript. Every reasonable effort has been made for
        mathematic computational efficiency and physical and biological
        accuracy, as required for the scope of this simulation.`,id:"evolution",mirror:!0})]})}var Cp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},j_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},bm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,E=c>>2,R=(c&3)<<4|m>>4;let j=(m&15)<<2|_>>6,z=_&63;y||(z=64,f||(j=64)),s.push(n[E],n[R],n[j],n[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Fm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):j_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new F_;const j=c<<2|m>>4;if(s.push(j),_!==64){const z=m<<4&240|_>>2;if(s.push(z),R!==64){const Q=_<<6&192|R;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class F_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b_=function(i){const e=Fm(i);return bm.encodeByteArray(e,!0)},Ml=function(i){return b_(i).replace(/\./g,"")},U_=function(i){try{return bm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=()=>B_().__FIREBASE_DEFAULTS__,$_=()=>{if(typeof process>"u"||typeof Cp>"u")return;const i=Cp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},q_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&U_(i[1]);return e&&JSON.parse(e)},wh=()=>{try{return z_()||$_()||q_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},H_=i=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},W_=i=>{const e=H_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Um=()=>{var i;return(i=wh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ml(JSON.stringify(n)),Ml(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Y_(){var i;const e=(i=wh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X_(){return!Y_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="FirebaseError";class bs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=e0,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bm.prototype.create)}}class Bm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?t0(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new bs(a,m,s)}}function t0(i,e){return i.replace(n0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const n0=/\{\$([^}]+)}/g;function Qc(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Rp(c)&&Rp(f)){if(!Qc(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Rp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(i){return i&&i._delegate?i._delegate:i}class Yo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s0(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i0(i){return i===Ei?void 0:i}function s0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const a0={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},l0=Ne.INFO,u0={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},c0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=u0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=l0,this._logHandler=c0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const h0=(i,e)=>e.some(n=>i instanceof n);let Pp,kp;function f0(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d0(){return kp||(kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $m=new WeakMap,Kc=new WeakMap,qm=new WeakMap,Lc=new WeakMap,Eh=new WeakMap;function p0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Br(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$m.set(n,i)}).catch(()=>{}),Eh.set(e,i),e}function m0(i){if(Kc.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Kc.set(i,e)}let Yc={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Kc.get(i);if(e==="objectStoreNames")return i.objectStoreNames||qm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function g0(i){Yc=i(Yc)}function y0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Oc(this),e,...n);return qm.set(s,e.sort?e.sort():[e]),Br(s)}:d0().includes(i)?function(...e){return i.apply(Oc(this),e),Br($m.get(this))}:function(...e){return Br(i.apply(Oc(this),e))}}function v0(i){return typeof i=="function"?y0(i):(i instanceof IDBTransaction&&m0(i),h0(i,f0())?new Proxy(i,Yc):i)}function Br(i){if(i instanceof IDBRequest)return p0(i);if(Lc.has(i))return Lc.get(i);const e=v0(i);return e!==i&&(Lc.set(i,e),Eh.set(e,i)),e}const Oc=i=>Eh.get(i);function _0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Br(f.result),y.oldVersion,y.newVersion,Br(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const w0=["get","getKey","getAll","getAllKeys","count"],E0=["put","add","delete","clear"],Mc=new Map;function xp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mc.get(e))return Mc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=E0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||w0.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&y.done]))[0]};return Mc.set(e,c),c}g0(i=>({...i,get:(e,n,s)=>xp(e,n)||i.get(e,n,s),has:(e,n)=>!!xp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(I0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function I0(i){const e=i.getComponent();return e?.type==="VERSION"}const Xc="@firebase/app",Np="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new zm("@firebase/app"),S0="@firebase/app-compat",A0="@firebase/analytics-compat",C0="@firebase/analytics",R0="@firebase/app-check-compat",P0="@firebase/app-check",k0="@firebase/auth",x0="@firebase/auth-compat",N0="@firebase/database",V0="@firebase/data-connect",D0="@firebase/database-compat",L0="@firebase/functions",O0="@firebase/functions-compat",M0="@firebase/installations",j0="@firebase/installations-compat",F0="@firebase/messaging",b0="@firebase/messaging-compat",U0="@firebase/performance",B0="@firebase/performance-compat",z0="@firebase/remote-config",$0="@firebase/remote-config-compat",q0="@firebase/storage",H0="@firebase/storage-compat",W0="@firebase/firestore",G0="@firebase/vertexai-preview",Q0="@firebase/firestore-compat",K0="firebase",Y0="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="[DEFAULT]",X0={[Xc]:"fire-core",[S0]:"fire-core-compat",[C0]:"fire-analytics",[A0]:"fire-analytics-compat",[P0]:"fire-app-check",[R0]:"fire-app-check-compat",[k0]:"fire-auth",[x0]:"fire-auth-compat",[N0]:"fire-rtdb",[V0]:"fire-data-connect",[D0]:"fire-rtdb-compat",[L0]:"fire-fn",[O0]:"fire-fn-compat",[M0]:"fire-iid",[j0]:"fire-iid-compat",[F0]:"fire-fcm",[b0]:"fire-fcm-compat",[U0]:"fire-perf",[B0]:"fire-perf-compat",[z0]:"fire-rc",[$0]:"fire-rc-compat",[q0]:"fire-gcs",[H0]:"fire-gcs-compat",[W0]:"fire-fst",[Q0]:"fire-fst-compat",[G0]:"fire-vertex","fire-js":"fire-js",[K0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,J0=new Map,Zc=new Map;function Vp(i,e){try{i.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bl(i){const e=i.name;if(Zc.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Zc.set(e,i);for(const n of Fl.values())Vp(n,i);for(const n of J0.values())Vp(n,i);return!0}function Z0(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Bm("app","Firebase",ew);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=Y0;function Hm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jc,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw zr.create("bad-app-name",{appName:String(a)});if(n||(n=Um()),!n)throw zr.create("no-options");const c=Fl.get(a);if(c){if(Qc(n,c.options)&&Qc(s,c.config))return c;throw zr.create("duplicate-app",{appName:a})}const f=new o0(a);for(const y of Zc.values())f.addComponent(y);const m=new tw(n,s,f);return Fl.set(a,m),m}function rw(i=Jc){const e=Fl.get(i);if(!e&&i===Jc&&Um())return Hm();if(!e)throw zr.create("no-app",{appName:i});return e}function Cs(i,e,n){var s;let a=(s=X0[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(m.join(" "));return}bl(new Yo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebase-heartbeat-database",sw=1,Xo="firebase-heartbeat-store";let jc=null;function Wm(){return jc||(jc=_0(iw,sw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(i=>{throw zr.create("idb-open",{originalErrorMessage:i.message})})),jc}async function ow(i){try{const n=(await Wm()).transaction(Xo),s=await n.objectStore(Xo).get(Gm(i));return await n.done,s}catch(e){if(e instanceof bs)ur.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e?.message});ur.warn(n.message)}}}async function Dp(i,e){try{const s=(await Wm()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,Gm(i)),await s.done}catch(n){if(n instanceof bs)ur.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n?.message});ur.warn(s.message)}}}function Gm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=1024,lw=30*24*60*60*1e3;class uw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Lp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=lw}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lp(),{heartbeatsToSend:s,unsentEntries:a}=cw(this._heartbeatsCache.heartbeats),c=Ml(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ur.warn(n),""}}}function Lp(){return new Date().toISOString().substring(0,10)}function cw(i,e=aw){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Op(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Op(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ow(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Op(i){return Ml(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){bl(new Yo("platform-logger",e=>new T0(e),"PRIVATE")),bl(new Yo("heartbeat",e=>new uw(e),"PRIVATE")),Cs(Xc,Np,i),Cs(Xc,Np,"esm2017"),Cs("fire-js","")}fw("");var dw="firebase",pw="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(dw,pw,"app");var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,Qm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function C(){}C.prototype=S.prototype,N.D=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(x,V,L){for(var A=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)A[Ze-2]=arguments[Ze];return S.prototype[V].apply(x,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,S,C){C||(C=0);var x=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)x[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;16>V;++V)x[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],V=N.g[2];var L=N.g[3],A=S+(L^C&(V^L))+x[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=L+(V^S&(C^V))+x[1]+3905402710&4294967295,L=S+(A<<12&4294967295|A>>>20),A=V+(C^L&(S^C))+x[2]+606105819&4294967295,V=L+(A<<17&4294967295|A>>>15),A=C+(S^V&(L^S))+x[3]+3250441966&4294967295,C=V+(A<<22&4294967295|A>>>10),A=S+(L^C&(V^L))+x[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(V^S&(C^V))+x[5]+1200080426&4294967295,L=S+(A<<12&4294967295|A>>>20),A=V+(C^L&(S^C))+x[6]+2821735955&4294967295,V=L+(A<<17&4294967295|A>>>15),A=C+(S^V&(L^S))+x[7]+4249261313&4294967295,C=V+(A<<22&4294967295|A>>>10),A=S+(L^C&(V^L))+x[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(V^S&(C^V))+x[9]+2336552879&4294967295,L=S+(A<<12&4294967295|A>>>20),A=V+(C^L&(S^C))+x[10]+4294925233&4294967295,V=L+(A<<17&4294967295|A>>>15),A=C+(S^V&(L^S))+x[11]+2304563134&4294967295,C=V+(A<<22&4294967295|A>>>10),A=S+(L^C&(V^L))+x[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=L+(V^S&(C^V))+x[13]+4254626195&4294967295,L=S+(A<<12&4294967295|A>>>20),A=V+(C^L&(S^C))+x[14]+2792965006&4294967295,V=L+(A<<17&4294967295|A>>>15),A=C+(S^V&(L^S))+x[15]+1236535329&4294967295,C=V+(A<<22&4294967295|A>>>10),A=S+(V^L&(C^V))+x[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^V&(S^C))+x[6]+3225465664&4294967295,L=S+(A<<9&4294967295|A>>>23),A=V+(S^C&(L^S))+x[11]+643717713&4294967295,V=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(V^L))+x[0]+3921069994&4294967295,C=V+(A<<20&4294967295|A>>>12),A=S+(V^L&(C^V))+x[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^V&(S^C))+x[10]+38016083&4294967295,L=S+(A<<9&4294967295|A>>>23),A=V+(S^C&(L^S))+x[15]+3634488961&4294967295,V=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(V^L))+x[4]+3889429448&4294967295,C=V+(A<<20&4294967295|A>>>12),A=S+(V^L&(C^V))+x[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^V&(S^C))+x[14]+3275163606&4294967295,L=S+(A<<9&4294967295|A>>>23),A=V+(S^C&(L^S))+x[3]+4107603335&4294967295,V=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(V^L))+x[8]+1163531501&4294967295,C=V+(A<<20&4294967295|A>>>12),A=S+(V^L&(C^V))+x[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=L+(C^V&(S^C))+x[2]+4243563512&4294967295,L=S+(A<<9&4294967295|A>>>23),A=V+(S^C&(L^S))+x[7]+1735328473&4294967295,V=L+(A<<14&4294967295|A>>>18),A=C+(L^S&(V^L))+x[12]+2368359562&4294967295,C=V+(A<<20&4294967295|A>>>12),A=S+(C^V^L)+x[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^V)+x[8]+2272392833&4294967295,L=S+(A<<11&4294967295|A>>>21),A=V+(L^S^C)+x[11]+1839030562&4294967295,V=L+(A<<16&4294967295|A>>>16),A=C+(V^L^S)+x[14]+4259657740&4294967295,C=V+(A<<23&4294967295|A>>>9),A=S+(C^V^L)+x[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^V)+x[4]+1272893353&4294967295,L=S+(A<<11&4294967295|A>>>21),A=V+(L^S^C)+x[7]+4139469664&4294967295,V=L+(A<<16&4294967295|A>>>16),A=C+(V^L^S)+x[10]+3200236656&4294967295,C=V+(A<<23&4294967295|A>>>9),A=S+(C^V^L)+x[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^V)+x[0]+3936430074&4294967295,L=S+(A<<11&4294967295|A>>>21),A=V+(L^S^C)+x[3]+3572445317&4294967295,V=L+(A<<16&4294967295|A>>>16),A=C+(V^L^S)+x[6]+76029189&4294967295,C=V+(A<<23&4294967295|A>>>9),A=S+(C^V^L)+x[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=L+(S^C^V)+x[12]+3873151461&4294967295,L=S+(A<<11&4294967295|A>>>21),A=V+(L^S^C)+x[15]+530742520&4294967295,V=L+(A<<16&4294967295|A>>>16),A=C+(V^L^S)+x[2]+3299628645&4294967295,C=V+(A<<23&4294967295|A>>>9),A=S+(V^(C|~L))+x[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~V))+x[7]+1126891415&4294967295,L=S+(A<<10&4294967295|A>>>22),A=V+(S^(L|~C))+x[14]+2878612391&4294967295,V=L+(A<<15&4294967295|A>>>17),A=C+(L^(V|~S))+x[5]+4237533241&4294967295,C=V+(A<<21&4294967295|A>>>11),A=S+(V^(C|~L))+x[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~V))+x[3]+2399980690&4294967295,L=S+(A<<10&4294967295|A>>>22),A=V+(S^(L|~C))+x[10]+4293915773&4294967295,V=L+(A<<15&4294967295|A>>>17),A=C+(L^(V|~S))+x[1]+2240044497&4294967295,C=V+(A<<21&4294967295|A>>>11),A=S+(V^(C|~L))+x[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~V))+x[15]+4264355552&4294967295,L=S+(A<<10&4294967295|A>>>22),A=V+(S^(L|~C))+x[6]+2734768916&4294967295,V=L+(A<<15&4294967295|A>>>17),A=C+(L^(V|~S))+x[13]+1309151649&4294967295,C=V+(A<<21&4294967295|A>>>11),A=S+(V^(C|~L))+x[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=L+(C^(S|~V))+x[11]+3174756917&4294967295,L=S+(A<<10&4294967295|A>>>22),A=V+(S^(L|~C))+x[2]+718787259&4294967295,V=L+(A<<15&4294967295|A>>>17),A=C+(L^(V|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var C=S-this.blockSize,x=this.B,V=this.h,L=0;L<S;){if(V==0)for(;L<=C;)a(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<S;)if(x[V++]=N.charCodeAt(L++),V==this.blockSize){a(this,x),V=0;break}}else for(;L<S;)if(x[V++]=N[L++],V==this.blockSize){a(this,x),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var C=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=C&255,C/=256;for(this.u(N),N=Array(16),S=C=0;4>S;++S)for(var x=0;32>x;x+=8)N[C++]=this.g[S]>>>x&255;return N};function c(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function f(N,S){this.h=S;for(var C=[],x=!0,V=N.length-1;0<=V;V--){var L=N[V]|0;x&&L==S||(C[V]=L,x=!1)}this.g=C}var m={};function y(N){return-128<=N&&128>N?c(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return R;if(0>N)return B(_(-N));for(var S=[],C=1,x=0;N>=C;x++)S[x]=N/C|0,C*=4294967296;return new f(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return B(E(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(S,8)),x=R,V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V),A=parseInt(N.substring(V,V+L),S);8>L?(L=_(Math.pow(S,L)),x=x.j(L).add(_(A))):(x=x.j(C),x=x.add(_(A)))}return x}var R=y(0),j=y(1),z=y(16777216);i=f.prototype,i.m=function(){if(K(this))return-B(this).m();for(var N=0,S=1,C=0;C<this.g.length;C++){var x=this.i(C);N+=(0<=x?x:4294967296+x)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Q(this))return"0";if(K(this))return"-"+B(this).toString(N);for(var S=_(Math.pow(N,6)),C=this,x="";;){var V=ve(C,S).g;C=pe(C,V.j(S));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=V,Q(C))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},i.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Q(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function K(N){return N.h==-1}i.l=function(N){return N=pe(this,N),K(N)?-1:Q(N)?0:1};function B(N){for(var S=N.g.length,C=[],x=0;x<S;x++)C[x]=~N.g[x];return new f(C,~N.h).add(j)}i.abs=function(){return K(this)?B(this):this},i.add=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],x=0,V=0;V<=S;V++){var L=x+(this.i(V)&65535)+(N.i(V)&65535),A=(L>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=A>>>16,L&=65535,A&=65535,C[V]=A<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function pe(N,S){return N.add(B(S))}i.j=function(N){if(Q(this)||Q(N))return R;if(K(this))return K(N)?B(this).j(B(N)):B(B(this).j(N));if(K(N))return B(this.j(B(N)));if(0>this.l(z)&&0>N.l(z))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,C=[],x=0;x<2*S;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<N.g.length;V++){var L=this.i(x)>>>16,A=this.i(x)&65535,Ze=N.i(V)>>>16,Pt=N.i(V)&65535;C[2*x+2*V]+=A*Pt,ge(C,2*x+2*V),C[2*x+2*V+1]+=L*Pt,ge(C,2*x+2*V+1),C[2*x+2*V+1]+=A*Ze,ge(C,2*x+2*V+1),C[2*x+2*V+2]+=L*Ze,ge(C,2*x+2*V+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new f(C,0)};function ge(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ce(N,S){this.g=N,this.h=S}function ve(N,S){if(Q(S))throw Error("division by zero");if(Q(N))return new ce(R,R);if(K(N))return S=ve(B(N),S),new ce(B(S.g),B(S.h));if(K(S))return S=ve(N,B(S)),new ce(B(S.g),S.h);if(30<N.g.length){if(K(N)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var C=j,x=S;0>=x.l(N);)C=Fe(C),x=Fe(x);var V=ke(C,1),L=ke(x,1);for(x=ke(x,2),C=ke(C,2);!Q(x);){var A=L.add(x);0>=A.l(N)&&(V=V.add(C),L=A),x=ke(x,1),C=ke(C,1)}return S=pe(N,V.j(S)),new ce(V,S)}for(V=R;0<=N.l(S);){for(C=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=_(C),A=L.j(S);K(A)||0<A.l(N);)C-=x,L=_(C),A=L.j(S);Q(L)&&(L=j),V=V.add(L),N=pe(N,A)}return new ce(V,N)}i.A=function(N){return ve(this,N).h},i.and=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)&N.i(x);return new f(C,this.h&N.h)},i.or=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)|N.i(x);return new f(C,this.h|N.h)},i.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),C=[],x=0;x<S;x++)C[x]=this.i(x)^N.i(x);return new f(C,this.h^N.h)};function Fe(N){for(var S=N.g.length+1,C=[],x=0;x<S;x++)C[x]=N.i(x)<<1|N.i(x-1)>>>31;return new f(C,N.h)}function ke(N,S){var C=S>>5;S%=32;for(var x=N.g.length-C,V=[],L=0;L<x;L++)V[L]=0<S?N.i(L+C)>>>S|N.i(L+C+1)<<32-S:N.i(L+C);return new f(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Qm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=E,Ii=f}).apply(typeof Mp<"u"?Mp:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Km,Bo,Ym,Nl,eh,Xm,Jm,Zm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var O=l[w];if(!(O in g))break e;g=g[O]}l=l[l.length-1],w=g[l],d=d(w),d!=w&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,w=!1,O={next:function(){if(!w&&g<l.length){var U=g++;return{value:d(U,l[U]),done:!1}}return w=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,g){return l.call.apply(l.bind,arguments)}function R(l,d,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,w),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function j(l,d,g){return j=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,j.apply(null,arguments)}function z(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function Q(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,O,U){for(var J=Array(arguments.length-2),je=2;je<arguments.length;je++)J[je-2]=arguments[je];return d.prototype[O].apply(w,J)}}function K(l){const d=l.length;if(0<d){const g=Array(d);for(let w=0;w<d;w++)g[w]=l[w];return g}return[]}function B(l,d){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(y(w)){const O=l.length||0,U=w.length||0;l.length=O+U;for(let J=0;J<U;J++)l[O+J]=w[J]}else l.push(w)}}class pe{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(l){return/^[\s\xa0]*$/.test(l)}function ce(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ve(l){return ve[" "](l),l}ve[" "]=function(){};var Fe=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function ke(l,d,g){for(const w in l)d.call(g,l[w],w,l)}function N(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function S(l){const d={};for(const g in l)d[g]=l[g];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,d){let g,w;for(let O=1;O<arguments.length;O++){w=arguments[O];for(g in w)l[g]=w[g];for(let U=0;U<C.length;U++)g=C[U],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function V(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function A(){var l=he;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ze{constructor(){this.h=this.g=null}add(d,g){const w=Pt.get();w.set(d,g),this.h?this.h.next=w:this.g=w,this.h=w}}var Pt=new pe(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let be,Z=!1,he=new Ze,ne=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(D)}};var D=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){L(g)}var d=Pt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Z=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Te(l,d){if(ue.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Fe){e:{try{ve(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}Q(Te,ue);var Ae={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Be(l,d,g,w,O){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!w,this.ha=O,this.key=++Oe,this.da=this.fa=!1}function pt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Hn(l){this.src=l,this.g={},this.h=0}Hn.prototype.add=function(l,d,g,w,O){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var J=fr(l,d,w,O);return-1<J?(d=l[J],g||(d.fa=!1)):(d=new Be(d,this.src,U,!!w,O),d.fa=g,l.push(d)),d};function Ni(l,d){var g=d.type;if(g in l.g){var w=l.g[g],O=Array.prototype.indexOf.call(w,d,void 0),U;(U=0<=O)&&Array.prototype.splice.call(w,O,1),U&&(pt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function fr(l,d,g,w){for(var O=0;O<l.length;++O){var U=l[O];if(!U.da&&U.listener==d&&U.capture==!!g&&U.ha==w)return O}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Vi={};function qs(l,d,g,w,O){if(Array.isArray(d)){for(var U=0;U<d.length;U++)qs(l,d[U],g,w,O);return null}return g=Gs(g),l&&l[Le]?l.K(d,g,_(w)?!!w.capture:!1,O):Hs(l,d,g,!1,w,O)}function Hs(l,d,g,w,O,U){if(!d)throw Error("Invalid event type");var J=_(O)?!!O.capture:!!O,je=Li(l);if(je||(l[Gr]=je=new Hn(l)),g=je.add(d,g,w,J,U),g.proxy)return g;if(w=ua(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)Ee||(O=J),O===void 0&&(O=!1),l.addEventListener(d.toString(),w,O);else if(l.attachEvent)l.attachEvent(Gn(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ua(){function l(g){return d.call(l.src,l.listener,g)}const d=Ws;return l}function Di(l,d,g,w,O){if(Array.isArray(d))for(var U=0;U<d.length;U++)Di(l,d[U],g,w,O);else w=_(w)?!!w.capture:!!w,g=Gs(g),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&(U=l.g[d],g=fr(U,g,w,O),-1<g&&(pt(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete l.g[d],l.h--)))):l&&(l=Li(l))&&(d=l.g[d.toString()],l=-1,d&&(l=fr(d,g,w,O)),(g=-1<l?d[l]:null)&&Wn(g))}function Wn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])Ni(d.i,l);else{var g=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(g,w,l.capture):d.detachEvent?d.detachEvent(Gn(g),w):d.addListener&&d.removeListener&&d.removeListener(w),(g=Li(d))?(Ni(g,l),g.h==0&&(g.src=null,d[Gr]=null)):pt(l)}}}function Gn(l){return l in Vi?Vi[l]:Vi[l]="on"+l}function Ws(l,d){if(l.da)l=!0;else{d=new Te(d,this);var g=l.listener,w=l.ha||l.src;l.fa&&Wn(l),l=g.call(w,d)}return l}function Li(l){return l=l[Gr],l instanceof Hn?l:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(l){return typeof l=="function"?l:(l[Oi]||(l[Oi]=function(d){return l.handleEvent(d)}),l[Oi])}function ut(){$.call(this),this.i=new Hn(this),this.M=this,this.F=null}Q(ut,$),ut.prototype[Le]=!0,ut.prototype.removeEventListener=function(l,d,g,w){Di(this,l,d,g,w)};function ct(l,d){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new ue(d,l);else if(d instanceof ue)d.target=d.target||l;else{var O=d;d=new ue(w,l),x(d,O)}if(O=!0,g)for(var U=g.length-1;0<=U;U--){var J=d.g=g[U];O=Qn(J,w,!0,d)&&O}if(J=d.g=l,O=Qn(J,w,!0,d)&&O,O=Qn(J,w,!1,d)&&O,g)for(U=0;U<g.length;U++)J=d.g=g[U],O=Qn(J,w,!1,d)&&O}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],w=0;w<g.length;w++)pt(g[w]);delete l.g[d],l.h--}}this.F=null},ut.prototype.K=function(l,d,g,w){return this.i.add(String(l),d,!1,g,w)},ut.prototype.L=function(l,d,g,w){return this.i.add(String(l),d,!0,g,w)};function Qn(l,d,g,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,U=0;U<d.length;++U){var J=d[U];if(J&&!J.da&&J.capture==g){var je=J.listener,ht=J.ha||J.src;J.fa&&Ni(l.i,J),O=je.call(ht,w)!==!1&&O}}return O&&!w.defaultPrevented}function Qs(l,d,g){if(typeof l=="function")g&&(l=j(l,g));else if(l&&typeof l.handleEvent=="function")l=j(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function dr(l){l.g=Qs(()=>{l.g=null,l.i&&(l.i=!1,dr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Qr extends ${constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(l){$.call(this),this.h=l,this.g={}}Q(Kr,$);var Ks=[];function Ys(l){ke(l.g,function(d,g){this.g.hasOwnProperty(g)&&Wn(d)},l),l.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Ys(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xs=m.JSON.stringify,Js=m.JSON.parse,Zs=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function Yr(){}Yr.prototype.h=null;function Mi(l){return l.h||(l.h=l.i())}function ji(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){ue.call(this,"d")}Q(Nn,ue);function Fi(){ue.call(this,"c")}Q(Fi,ue);var Vn={},eo=null;function Xr(){return eo=eo||new ut}Vn.La="serverreachability";function to(l){ue.call(this,Vn.La,l)}Q(to,ue);function Kn(l){const d=Xr();ct(d,new to(d))}Vn.STAT_EVENT="statevent";function no(l,d){ue.call(this,Vn.STAT_EVENT,l),this.stat=d}Q(no,ue);function et(l){const d=Xr();ct(d,new no(d,l))}Vn.Ma="timingevent";function bi(l,d){ue.call(this,Vn.Ma,l),this.size=d}Q(bi,ue);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Zr(l,d,g,w,O,U){l.info(function(){if(l.g)if(U)for(var J="",je=U.split("&"),ht=0;ht<je.length;ht++){var Ce=je[ht].split("=");if(1<Ce.length){var mt=Ce[0];Ce=Ce[1];var it=mt.split("_");J=2<=it.length&&it[1]=="type"?J+(mt+"="+Ce+"&"):J+(mt+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+w+") [attempt "+O+"]: "+d+`
`+g+`
`+J})}function Ui(l,d,g,w,O,U,J){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+O+"]: "+d+`
`+g+`
`+U+" "+J})}function gn(l,d,g,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+nu(l,g)+(w?" "+w:"")})}function ro(l,d){l.info(function(){return"TIMEOUT: "+d})}Jr.prototype.info=function(){};function nu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var O=w[1];if(Array.isArray(O)&&!(1>O.length)){var U=O[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<O.length;J++)O[J]=""}}}}return Xs(g)}catch{return d}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function ei(){}Q(ei,Yr),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},yn=new ei;function vn(l,d,g,w){this.j=l,this.i=d,this.l=g,this.R=w||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ha}function ha(){this.i=null,this.g="",this.h=!1}var io={},zi={};function $i(l,d,g){l.L=1,l.v=vr(Jt(d)),l.m=g,l.P=!0,so(l,null)}function so(l,d){l.F=Date.now(),ze(l),l.A=Jt(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),wr(g.i,"t",w),l.C=0,g=l.j.J,l.h=new ha,l.g=ka(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Qr(j(l.Y,l,l.g),l.O)),d=l.U,g=l.g,w=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ks[0]=O.toString()),O=Ks);for(var U=0;U<O.length;U++){var J=qs(g,O[U],w||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Kn(),Zr(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&qt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const it=qt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||it!=4||d==7||(d==8||0>=ln?Kn(3):Kn(2)),ti(this);var g=this.g.Z();this.X=g;t:if(fa(this)){var w=ho(this.g);l="";var O=w.length,U=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),pr(this);var J="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!(U&&d==O-1)});w.length=0,this.h.g+=l,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=g==200,Ui(this.i,this.u,this.A,this.l,this.R,it,g),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ht=this.g;if((je=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(je)){var Ce=je;break t}}Ce=null}if(g=Ce)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oo(this,g);else{this.o=!1,this.s=3,et(12),on(this),pr(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<J.length;)if(en=ru(this,J),en==zi){it==4&&(this.s=4,et(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==io){this.s=4,et(15),gn(this.i,this.l,J,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,en,null),oo(this,en);if(fa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||J.length!=0||this.h.h||(this.s=1,et(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,J,"[Invalid Chunked Response]"),on(this),pr(this);else if(0<J.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),po(mt),mt.M=!0,et(11))}}else gn(this.i,this.l,J,null),oo(this,J);it==4&&on(this),this.o&&!this.J&&(it==4?es(this.j,this):(this.o=!1,ze(this)))}else Ki(this.g),g==400&&0<J.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),pr(this)}}}catch{}finally{}};function fa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ru(l,d){var g=l.C,w=d.indexOf(`
`,g);return w==-1?zi:(g=Number(d.substring(g,w)),isNaN(g)?io:(w+=1,w+g>d.length?zi:(d=d.slice(w,w+g),l.C=w+g,d)))}vn.prototype.cancel=function(){this.J=!0,on(this)};function ze(l){l.S=Date.now()+l.I,da(l,l.I)}function da(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(j(l.ba,l),d)}function ti(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ro(this.i,this.A),this.L!=2&&(Kn(),et(17)),on(this),this.s=2,pr(this)):da(this,this.S-l)};function pr(l){l.j.G==0||l.J||es(l.j,l)}function on(l){ti(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Ys(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function oo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Ft(g.h,l))){if(!l.K&&Ft(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var O=w;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Zi(g),In(g);else break e;Ji(g),et(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(j(g.Za,g),6e3));if(1>=ma(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else er(g,11)}else if((l.K||g.g==l)&&Zi(g),!ge(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Ce=O[d];if(g.T=Ce[0],Ce=Ce[1],g.G==2)if(Ce[0]=="c"){g.K=Ce[1],g.ia=Ce[2];const mt=Ce[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const it=Ce[4];it!=null&&(g.Aa=it,g.j.info("SVER="+g.Aa));const ln=Ce[5];ln!=null&&typeof ln=="number"&&0<ln&&(w=1.5*ln,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const en=l.g;if(en){const li=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var U=w.h;U.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ao(U,U.h),U.h=null))}if(w.D){const ns=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ns&&(w.ya=ns,Ue(w.I,w.D,ns))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var J=l;if(w.qa=Pa(w,w.J?w.ia:null,w.W),J.K){ga(w.h,J);var je=J,ht=w.L;ht&&(je.I=ht),je.B&&(ti(je),ze(je)),w.g=J}else ai(w);0<g.i.length&&Mn(g)}else Ce[0]!="stop"&&Ce[0]!="close"||er(g,7);else g.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?er(g,7):Tt(g):Ce[0]!="noop"&&g.l&&g.l.ta(Ce),g.v=0)}}Kn(4)}catch{}}var pa=class{constructor(l,d){this.g=l,this.map=d}};function ni(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ma(l){return l.h?1:l.g?l.g.size:0}function Ft(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ao(l,d){l.g?l.g.add(d):l.h=d}function ga(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ni.prototype.cancel=function(){if(this.i=ya(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ya(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return K(l.i)}function qi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,w=0;w<g;w++)d.push(l[w]);return d}d=[],g=0;for(w in l)d[g++]=l[w];return d}function Hi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const w in l)d[g++]=w;return d}}}function mr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Hi(l),w=qi(l),O=w.length,U=0;U<O;U++)d.call(void 0,w[U],g&&g[U],l)}var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),O=null;if(0<=w){var U=l[g].substring(0,w);O=l[g].substring(w+1)}else U=l[g];d(U,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Yn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Yn){this.h=l.h,ii(this,l.j),this.o=l.o,this.g=l.g,gr(this,l.s),this.l=l.l;var d=l.i,g=new Dn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),yr(this,g),this.m=l.m}else l&&(d=String(l).match(ri))?(this.h=!1,ii(this,d[1]||"",!0),this.o=Se(d[2]||""),this.g=Se(d[3]||"",!0),gr(this,d[4]),this.l=Se(d[5]||"",!0),yr(this,d[6]||"",!0),this.m=Se(d[7]||"")):(this.h=!1,this.i=new Dn(null,this.h))}Yn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(_r(d,Wi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(_r(d,Wi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(_r(g,g.charAt(0)=="/"?wa:_a,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",_r(g,lo)),l.join("")};function Jt(l){return new Yn(l)}function ii(l,d,g){l.j=g?Se(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function gr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function yr(l,d,g){d instanceof Dn?(l.i=d,Ln(l.i,l.h)):(g||(d=_r(d,Ea)),l.i=new Dn(d,l.h))}function Ue(l,d,g){l.i.set(d,g)}function vr(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Se(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function _r(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,va),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function va(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wi=/[#\/\?@]/g,_a=/[#\?:]/g,wa=/[#\?]/g,Ea=/[#\?@]/g,lo=/#/g;function Dn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Et(l){l.g||(l.g=new Map,l.h=0,l.i&&iu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Dn.prototype,i.add=function(l,d){Et(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function _n(l,d){Et(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Et(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){Et(this),this.g.forEach(function(g,w){g.forEach(function(O){l.call(d,O,w,this)},this)},this)},i.na=function(){Et(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let w=0;w<d.length;w++){const O=l[w];for(let U=0;U<O.length;U++)g.push(d[w])}return g},i.V=function(l){Et(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return Et(this),this.i=null,l=an(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function wr(l,d,g){_n(l,d),0<g.length&&(l.i=null,l.g.set(an(l,d),K(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var w=d[g];const U=encodeURIComponent(String(w)),J=this.V(w);for(w=0;w<J.length;w++){var O=U;J[w]!==""&&(O+="="+encodeURIComponent(String(J[w]))),l.push(O)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Ln(l,d){d&&!l.j&&(Et(l),l.i=null,l.g.forEach(function(g,w){var O=w.toLowerCase();w!=O&&(_n(this,w),wr(this,O,g))},l)),l.j=d}function su(l,d){const g=new Jr;if(m.Image){const w=new Image;w.onload=z($t,g,"TestLoadImage: loaded",!0,d,w),w.onerror=z($t,g,"TestLoadImage: error",!1,d,w),w.onabort=z($t,g,"TestLoadImage: abort",!1,d,w),w.ontimeout=z($t,g,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function Ta(l,d){const g=new Jr,w=new AbortController,O=setTimeout(()=>{w.abort(),$t(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(U=>{clearTimeout(O),U.ok?$t(g,"TestPingServer: ok",!0,d):$t(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),$t(g,"TestPingServer: error",!1,d)})}function $t(l,d,g,w,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),w(g)}catch{}}function ou(){this.g=new Zs}function Ia(l,d,g){const w=g||"";try{mr(l,function(O,U){let J=O;_(O)&&(J=Xs(O)),d.push(w+U+"="+encodeURIComponent(J))})}catch(O){throw d.push(w+"type="+encodeURIComponent("_badmap")),O}}function Xn(l){this.l=l.Ub||null,this.j=l.eb||!1}Q(Xn,Yr),Xn.prototype.g=function(){return new si(this.l,this.j)},Xn.prototype.i=function(l){return function(){return l}}({});function si(l,d){ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(si,ut),i=si.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?En(this):Tn(this),this.readyState==3&&Sa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,En(this))},i.Qa=function(l){this.g&&(this.response=l,En(this))},i.ga=function(){this.g&&En(this)};function En(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Jn(l){let d="";return ke(l,function(g,w){d+=w,d+=":",d+=g,d+=`\r
`}),d}function Er(l,d,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=Jn(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,d,g))}function We(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(We,ut);var au=/^https?$/i,uo=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Mi(this.o):Mi(yn),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(U){oi(this,U);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var O in w)g.set(O,w[O]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const U of w.keys())g.set(U,w.get(U));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(uo,d,void 0))||w||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of g)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){oi(this,U)}};function oi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Zt(l)}function Gi(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?co(this):this.bb())},i.bb=function(){co(this)};function co(l){if(l.h&&typeof f<"u"&&(!l.v[1]||qt(l)!=4||l.Z()!=2)){if(l.u&&qt(l)==4)Qs(l.Ea,0,l);else if(ct(l,"readystatechange"),qt(l)==4){l.h=!1;try{const J=l.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var w;if(w=J===0){var O=String(l.D).match(ri)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),w=!au.test(O?O.toLowerCase():"")}g=w}if(g)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var U=2<qt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Gi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Qi(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ct(l,"ready");try{g.onreadystatechange=w}catch{}}}function Qi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function qt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Js(d)}};function ho(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(l){const d={};l=(l.g&&2<=qt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ge(l[w]))continue;var g=V(l[w]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=d[O]||[];d[O]=U,U.push(g)}N(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function On(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function fo(l){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=On("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=On("baseRetryDelayMs",5e3,l),this.cb=On("retryDelaySeedMs",1e4,l),this.Wa=On("forwardChannelMaxRetries",2,l),this.wa=On("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ni(l&&l.concurrentRequestLimit),this.Da=new ou,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,w){et(0),this.W=l,this.H=d||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=Pa(this,null,this.W),Mn(this)};function Tt(l){if(Yi(l),l.G==3){var d=l.U++,g=Jt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",d),Ue(g,"TYPE","terminate"),Zn(l,g),d=new vn(l,l.j,d),d.L=2,d.v=vr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=ka(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ze(d)}Ra(l)}function In(l){l.g&&(po(l),l.g.cancel(),l.g=null)}function Yi(l){In(l),l.u&&(m.clearTimeout(l.u),l.u=null),Zi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Mn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;be||ne(),Z||(be(),Z=!0),he.add(d,l),l.B=0}}function lu(l,d){return ma(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(j(l.Ga,l,d),Ca(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new vn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=S(U),x(U,this.S)):U=this.S),this.m!==null||this.O||(O.H=U,U=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Tr(this,O,d),g=Jt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),Zn(this,g),U&&(this.O?d="headers="+encodeURIComponent(String(Jn(U)))+"&"+d:this.m&&Er(g,this.m,U)),ao(this.h,O),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",d),Ue(g,"SID","null"),O.T=!0,$i(O,g,null)):$i(O,g,d),this.G=2}}else this.G==3&&(l?Xi(this,l):this.i.length==0||Xt(this.h)||Xi(this))};function Xi(l,d){var g;d?g=d.l:g=l.U++;const w=Jt(l.I);Ue(w,"SID",l.K),Ue(w,"RID",g),Ue(w,"AID",l.T),Zn(l,w),l.m&&l.o&&Er(w,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Tr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ao(l.h,g),$i(g,w,d)}function Zn(l,d){l.H&&ke(l.H,function(g,w){Ue(d,w,g)}),l.l&&mr({},function(g,w){Ue(d,w,g)})}function Tr(l,d,g){g=Math.min(l.i.length,g);var w=l.l?j(l.l.Na,l.l,l):null;e:{var O=l.i;let U=-1;for(;;){const J=["count="+g];U==-1?0<g?(U=O[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let je=!0;for(let ht=0;ht<g;ht++){let Ce=O[ht].g;const mt=O[ht].map;if(Ce-=U,0>Ce)U=Math.max(0,O[ht].g-100),je=!1;else try{Ia(mt,J,"req"+Ce+"_")}catch{w&&w(mt)}}if(je){w=J.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,w}function ai(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;be||ne(),Z||(be(),Z=!0),he.add(d,l),l.v=0}}function Ji(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(j(l.Fa,l),Ca(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Aa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(j(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),In(this),Aa(this))};function po(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Aa(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),Zn(l,d),l.m&&l.o&&Er(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=vr(Jt(d)),g.m=null,g.P=!0,so(g,l)}i.Za=function(){this.C!=null&&(this.C=null,In(this),Ji(this),et(19))};function Zi(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function es(l,d){var g=null;if(l.g==d){Zi(l),po(l),l.g=null;var w=2}else if(Ft(l.h,d))g=d.D,ga(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;w=Xr(),ct(w,new bi(w,g)),Mn(l)}else ai(l);else if(O=d.s,O==3||O==0&&0<d.X||!(w==1&&lu(l,d)||w==2&&Ji(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),O){case 1:er(l,5);break;case 4:er(l,10);break;case 3:er(l,6);break;default:er(l,2)}}}function Ca(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function er(l,d){if(l.j.info("Error code "+d),d==2){var g=j(l.fb,l),w=l.Xa;const O=!w;w=new Yn(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ii(w,"https"),vr(w),O?su(w.toString(),g):Ta(w.toString(),g)}else et(2);l.G=0,l.l&&l.l.sa(d),Ra(l),Yi(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Ra(l){if(l.G=0,l.ka=[],l.l){const d=ya(l.h);(d.length!=0||l.i.length!=0)&&(B(l.ka,d),B(l.ka,l.i),l.h.i.length=0,K(l.i),l.i.length=0),l.l.ra()}}function Pa(l,d,g){var w=g instanceof Yn?Jt(g):new Yn(g);if(w.g!="")d&&(w.g=d+"."+w.g),gr(w,w.s);else{var O=m.location;w=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var U=new Yn(null);w&&ii(U,w),d&&(U.g=d),O&&gr(U,O),g&&(U.l=g),w=U}return g=l.D,d=l.ya,g&&d&&Ue(w,g,d),Ue(w,"VER",l.la),Zn(l,w),w}function ka(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new Xn({eb:g})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ts(){}ts.prototype.g=function(l,d){return new bt(l,d)};function bt(l,d){ut.call(this),this.g=new fo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ge(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new jn(this)}Q(bt,ut),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Tt(this.g)},bt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Xs(l),l=g);d.i.push(new pa(d.Ya++,l)),d.G==3&&Mn(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,bt.aa.N.call(this)};function xa(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}Q(xa,Nn);function Na(){Fi.call(this),this.status=1}Q(Na,Fi);function jn(l){this.g=l}Q(jn,mo),jn.prototype.ua=function(){ct(this.g,"a")},jn.prototype.ta=function(l){ct(this.g,new xa(l))},jn.prototype.sa=function(l){ct(this.g,new Na)},jn.prototype.ra=function(){ct(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,Zm=function(){return new ts},Jm=function(){return Xr()},Xm=Vn,eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Nl=Bi,ca.COMPLETE="complete",Ym=ca,ji.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Bo=ji,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,Km=We}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const jp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new zm("@firebase/firestore");function Uo(){return Ci.logLevel}function oe(i,...e){if(Ci.logLevel<=Ne.DEBUG){const n=e.map(Th);Ci.debug(`Firestore (${Us}): ${i}`,...n)}}function cr(i,...e){if(Ci.logLevel<=Ne.ERROR){const n=e.map(Th);Ci.error(`Firestore (${Us}): ${i}`,...n)}}function xs(i,...e){if(Ci.logLevel<=Ne.WARN){const n=e.map(Th);Ci.warn(`Firestore (${Us}): ${i}`,...n)}}function Th(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: `+i;throw cr(e),new Error(e)}function Je(i,e){i||we()}function Pe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class gw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yw{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Si,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Si)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string"),new eg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Ot(e)}}class vw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _w{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new vw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ew{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new ww(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Tw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Me(i,e){return i<e?-1:i>e?1:0}function Ns(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new wt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new wt(0,0))}static max(){return new _e(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends Jo{construct(e,n,s){return new Ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const Sw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Jo{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return Sw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ye.fromString(e))}static fromName(e){return new me(Ye.fromString(e).popFirst(5))}static empty(){return new me(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ye(e.slice()))}}function Aw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new $r(a,me.empty(),e)}function Cw(i){return new $r(i.readTime,i.key,-1)}class $r{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $r(_e.min(),me.empty(),-1)}static max(){return new $r(_e.max(),me.empty(),-1)}}function Rw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Me(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==Pw)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(E=>{f[_]=E,++m,m===c&&s(f)},E=>a(E))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function xw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sh.oe=-1;function Gl(i){return i==null}function Ul(i){return i===0&&1/i==-1/0}function Nw(i){return typeof i=="number"&&Number.isInteger(i)&&!Ul(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function sa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function tg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cl(this.root,e,this.comparator,!0)}}class Cl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bp(this.data.getIterator())}getIteratorFrom(e){return new bp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class bp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Fr([])}unionWith(e){let n=new Ct(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ng("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(i){if(Je(!!i),typeof i=="string"){let e=0;const n=Vw.exec(i);if(Je(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(i.seconds),nanos:nt(i.nanos)}}function nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ri(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ch(i){const e=i.mapValue.fields.__previous_value__;return Ah(e)?Ch(e):e}function Zo(i){const e=qr(i.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s,a,c,f,m,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl={mapValue:{}};function Pi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ah(i)?4:Ow(i)?9007199254740991:Lw(i)?10:11:we()}function qn(i,e){if(i===e)return!0;const n=Pi(i);if(n!==Pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zo(i).isEqual(Zo(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=qr(a.timestampValue),m=qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Ri(a.bytesValue).isEqual(Ri(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return nt(a.geoPointValue.latitude)===nt(c.geoPointValue.latitude)&&nt(a.geoPointValue.longitude)===nt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return nt(a.integerValue)===nt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=nt(a.doubleValue),m=nt(c.doubleValue);return f===m?Ul(f)===Ul(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ns(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Fp(f)!==Fp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!qn(f[y],m[y])))return!1;return!0}(i,e);default:return we()}}function ta(i,e){return(i.values||[]).find(n=>qn(n,e))!==void 0}function Vs(i,e){if(i===e)return 0;const n=Pi(i),s=Pi(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=nt(c.integerValue||c.doubleValue),y=nt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Up(i.timestampValue,e.timestampValue);case 4:return Up(Zo(i),Zo(e));case 5:return Me(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Ri(c),y=Ri(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const E=Me(m[_],y[_]);if(E!==0)return E}return Me(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Me(nt(c.latitude),nt(f.latitude));return m!==0?m:Me(nt(c.longitude),nt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Bp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,_,E;const R=c.fields||{},j=f.fields||{},z=(m=R.value)===null||m===void 0?void 0:m.arrayValue,Q=(y=j.value)===null||y===void 0?void 0:y.arrayValue,K=Me(((_=z?.values)===null||_===void 0?void 0:_.length)||0,((E=Q?.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:Bp(z,Q)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Rl.mapValue&&f===Rl.mapValue)return 0;if(c===Rl.mapValue)return 1;if(f===Rl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=f.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const j=Me(y[R],E[R]);if(j!==0)return j;const z=Vs(m[y[R]],_[E[R]]);if(z!==0)return z}return Me(y.length,E.length)}(i.mapValue,e.mapValue);default:throw we()}}function Up(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Me(i,e);const n=qr(i),s=qr(e),a=Me(n.seconds,s.seconds);return a!==0?a:Me(n.nanos,s.nanos)}function Bp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Vs(n[a],s[a]);if(c)return c}return Me(n.length,s.length)}function Ds(i){return th(i)}function th(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Ri(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return me.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=th(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${th(n.fields[f])}`;return a+"}"}(i.mapValue):we()}function zp(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function nh(i){return!!i&&"integerValue"in i}function Rh(i){return!!i&&"arrayValue"in i}function $p(i){return!!i&&"nullValue"in i}function qp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fc(i){return!!i&&"mapValue"in i}function Lw(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return sa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ow(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(n)}setAll(e){let n=jt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Fc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){sa(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new zn(qo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,_e.min(),_e.min(),_e.min(),zn.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,_e.min(),_e.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,_e.min(),_e.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function Hp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Vs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{}class at extends rg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Fw(e,n,s):n==="array-contains"?new Bw(e,s):n==="in"?new zw(e,s):n==="not-in"?new $w(e,s):n==="array-contains-any"?new qw(e,s):new at(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new bw(e,s):new Uw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vs(n,this.value)):n!==null&&Pi(this.value)===Pi(n)&&this.matchesComparison(Vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends rg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xn(e,n)}matches(e){return ig(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ig(i){return i.op==="and"}function sg(i){return jw(i)&&ig(i)}function jw(i){for(const e of i.filters)if(e instanceof xn)return!1;return!0}function rh(i){if(i instanceof at)return i.field.canonicalString()+i.op.toString()+Ds(i.value);if(sg(i))return i.filters.map(e=>rh(e)).join(",");{const e=i.filters.map(n=>rh(n)).join(",");return`${i.op}(${e})`}}function og(i,e){return i instanceof at?function(s,a){return a instanceof at&&s.op===a.op&&s.field.isEqual(a.field)&&qn(s.value,a.value)}(i,e):i instanceof xn?function(s,a){return a instanceof xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&og(f,a.filters[m]),!0):!1}(i,e):void we()}function ag(i){return i instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(i):i instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(ag).join(" ,")+"}"}(i):"Filter"}class Fw extends at{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class bw extends at{constructor(e,n){super(e,"in",n),this.keys=lg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Uw extends at{constructor(e,n){super(e,"not-in",n),this.keys=lg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class Bw extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rh(n)&&ta(n.arrayValue,this.value)}}class zw extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ta(this.value.arrayValue,n)}}class $w extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ta(this.value.arrayValue,n)}}class qw extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ta(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Gp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Hw(i,e,n,s,a,c,f)}function Ph(i){const e=Pe(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>rh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ds(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ds(s)).join(",")),e.ue=n}return e.ue}function kh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Mw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!og(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wp(i.startAt,e.startAt)&&Wp(i.endAt,e.endAt)}function ih(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ww(i,e,n,s,a,c,f,m){return new Bs(i,e,n,s,a,c,f,m)}function ug(i){return new Bs(i)}function Qp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cg(i){return i.collectionGroup!==null}function Ho(i){const e=Pe(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(jt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new na(c,s))}),n.has(jt.keyField().canonicalString())||e.ce.push(new na(jt.keyField(),s))}return e.ce}function $n(i){const e=Pe(i);return e.le||(e.le=Gw(e,Ho(i))),e.le}function Gw(i,e){if(i.limitType==="F")return Gp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new na(a.field,c)});const n=i.endAt?new Bl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bl(i.startAt.position,i.startAt.inclusive):null;return Gp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function sh(i,e){const n=i.filters.concat([e]);return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zl(i,e,n){return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ql(i,e){return kh($n(i),$n(e))&&i.limitType===e.limitType}function hg(i){return`${Ph($n(i))}|lt:${i.limitType}`}function Is(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>ag(a)).join(", ")}]`),Gl(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ds(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ds(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function Kl(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Ho(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const _=Hp(f,m,y);return f.inclusive?_<=0:_<0}(s.startAt,Ho(s),a)||s.endAt&&!function(f,m,y){const _=Hp(f,m,y);return f.inclusive?_>=0:_>0}(s.endAt,Ho(s),a))}(i,e)}function Qw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function fg(i){return(e,n)=>{let s=!1;for(const a of Ho(i)){const c=Kw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Kw(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),_=m.data.field(c);return y!==null&&_!==null?Vs(y,_):we()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return tg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new rt(me.comparator);function Hr(){return Yw}const dg=new rt(me.comparator);function zo(...i){let e=dg;for(const n of i)e=e.insert(n.key,n);return e}function Xw(i){let e=dg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ti(){return Wo()}function pg(){return Wo()}function Wo(){return new zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const Jw=new Ct(me.comparator);function Ve(...i){let e=Jw;for(const n of i)e=e.add(n);return e}const Zw=new Ct(Me);function eE(){return Zw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function mg(i){return{integerValue:""+i}}function tE(i,e){return Nw(e)?mg(e):xh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this._=void 0}}function nE(i,e,n){return i instanceof oh?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Ah(c)&&(c=Ch(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof $l?gg(i,e):i instanceof ql?yg(i,e):function(a,c){const f=iE(a,c),m=Kp(f)+Kp(a.Pe);return nh(f)&&nh(a.Pe)?mg(m):xh(a.serializer,m)}(i,e)}function rE(i,e,n){return i instanceof $l?gg(i,e):i instanceof ql?yg(i,e):n}function iE(i,e){return i instanceof ah?function(s){return nh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class oh extends Yl{}class $l extends Yl{constructor(e){super(),this.elements=e}}function gg(i,e){const n=vg(e);for(const s of i.elements)n.some(a=>qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ql extends Yl{constructor(e){super(),this.elements=e}}function yg(i,e){let n=vg(e);for(const s of i.elements)n=n.filter(a=>!qn(a,s));return{arrayValue:{values:n}}}class ah extends Yl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Kp(i){return nt(i.integerValue||i.doubleValue)}function vg(i){return Rh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function sE(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof $l&&a instanceof $l||s instanceof ql&&a instanceof ql?Ns(s.elements,a.elements,qn):s instanceof ah&&a instanceof ah?qn(s.Pe,a.Pe):s instanceof oh&&a instanceof oh}(i.transform,e.transform)}class Ai{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Nh{}function _g(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new aE(i.key,Ai.none()):new Vh(i.key,i.data,Ai.none());{const n=i.data,s=zn.empty();let a=new Ct(jt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Xl(i.key,s,new Fr(a.toArray()),Ai.none())}}function oE(i,e,n){i instanceof Vh?function(a,c,f){const m=a.value.clone(),y=Xp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Xl?function(a,c,f){if(!Vl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Xp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(wg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Go(i,e,n,s){return i instanceof Vh?function(c,f,m,y){if(!Vl(c.precondition,f))return m;const _=c.value.clone(),E=Jp(c.fieldTransforms,y,f);return _.setAll(E),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Xl?function(c,f,m,y){if(!Vl(c.precondition,f))return m;const _=Jp(c.fieldTransforms,y,f),E=f.data;return E.setAll(wg(c)),E.setAll(_),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Vl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Yp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ns(s,a,(c,f)=>sE(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vh extends Nh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xl extends Nh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function wg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Xp(i,e,n){const s=new Map;Je(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,rE(f,m,n[a]))}return s}function Jp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,nE(c,f,e))}return s}class aE extends Nh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&oE(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Go(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=_g(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,s)=>Yp(n,s))&&Ns(this.baseMutations,e.baseMutations,(n,s)=>Yp(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Re;function Eg(i){if(i===void 0)return cr("GRPC error has no .code"),X.UNKNOWN;switch(i){case ot.OK:return X.OK;case ot.CANCELLED:return X.CANCELLED;case ot.UNKNOWN:return X.UNKNOWN;case ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ot.INTERNAL:return X.INTERNAL;case ot.UNAVAILABLE:return X.UNAVAILABLE;case ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ot.NOT_FOUND:return X.NOT_FOUND;case ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ot.ABORTED:return X.ABORTED;case ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ot.DATA_LOSS:return X.DATA_LOSS;default:return we()}}(Re=ot||(ot={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Ii([4294967295,4294967295],0);function Zp(i){const e=hE().encode(i),n=new Qm;return n.update(e),new Uint8Array(n.digest())}function em(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ii([n,s],0),new Ii([a,c],0)]}class Dh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(s<0)throw new $o(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ii.fromNumber(this.Ie)}Ee(e,n,s){let a=e.add(n.multiply(Ii.fromNumber(s)));return a.compare(fE)===1&&(a=new Ii([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Zp(e),[s,a]=em(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Dh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const n=Zp(e),[s,a]=em(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,oa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jl(_e.min(),a,new rt(Me),Hr(),Ve())}}class oa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new oa(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Tg{constructor(e,n){this.targetId=e,this.me=n}}class Ig{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class tm{constructor(){this.fe=0,this.ge=rm(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we()}}),new oa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=rm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=nm(),this.Qe=new rt(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.ze(a)&&n(a)})}He(e){const n=e.targetId,s=e.me.count,a=this.Je(n);if(a){const c=a.target;if(ih(c))if(s===0){const f=new me(c.path);this.Ue(n,f,Mt.newNoDocument(f,_e.min()))}else Je(s===1);else{const f=this.Ye(n);if(f!==s){const m=this.Ze(e),y=m?this.Xe(m,e,f):1;if(y!==0){this.je(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,_)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Ri(s).toUint8Array()}catch(y){if(y instanceof ng)return xs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Dh(f,a,c)}catch(y){return xs(y instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,c,null),a++)}),a}rt(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Je(f);if(m){if(c.current&&ih(m.target)){const y=new me(m.target.path);this.ke.get(y)!==null||this.it(f,y)||this.Ue(f,y,Mt.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ve();this.qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const _=this.Je(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new Jl(e,n,this.Qe,this.ke,s);return this.ke=Hr(),this.qe=nm(),this.Qe=new rt(Me),a}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ct(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nm(){return new rt(me.comparator)}function rm(){return new rt(me.comparator)}const pE={asc:"ASCENDING",desc:"DESCENDING"},mE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gE={and:"AND",or:"OR"};class yE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lh(i,e){return i.useProto3Json||Gl(e)?e:{value:e}}function uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Rs(i){return Je(!!i),_e.fromTimestamp(function(n){const s=qr(n);return new wt(s.seconds,s.nanos)}(i))}function Ag(i,e){return ch(i,e).canonicalString()}function ch(i,e){const n=function(a){return new Ye(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Cg(i){const e=Ye.fromString(i);return Je(Ng(e)),e}function bc(i,e){const n=Cg(e);if(n.get(1)!==i.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(Pg(n))}function Rg(i,e){return Ag(i.databaseId,e)}function vE(i){const e=Cg(i);return e.length===4?Ye.emptyPath():Pg(e)}function im(i){return new Ye(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Pg(i){return Je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function _E(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,E){return _.useProto3Json?(Je(E===void 0||typeof E=="string"),Rt.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Rt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const E=_.code===void 0?X.UNKNOWN:Eg(_.code);return new ae(E,_.message||"")}(f);n=new Ig(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=bc(i,s.document.name),c=Rs(s.document.updateTime),f=s.document.createTime?Rs(s.document.createTime):_e.min(),m=new zn({mapValue:{fields:s.document.fields}}),y=Mt.newFoundDocument(a,c,f,m),_=s.targetIds||[],E=s.removedTargetIds||[];n=new Dl(_,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=bc(i,s.document),c=s.readTime?Rs(s.readTime):_e.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Dl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=bc(i,s.document),c=s.removedTargetIds||[];n=new Dl([],c,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new cE(a,c),m=s.targetId;n=new Tg(m,f)}}return n}function wE(i,e){return{documents:[Rg(i,e.path)]}}function EE(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Rg(i,a);const c=function(_){if(_.length!==0)return xg(xn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(E=>function(j){return{field:Ss(j.field),direction:SE(j.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=lh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{_t:n,parent:a}}function TE(i){let e=vE(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(R){const j=kg(R);return j instanceof xn&&sg(j)?j.getFilters():[j]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(j=>function(Q){return new na(As(Q.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(j))}(n.orderBy));let m=null;n.limit&&(m=function(R){let j;return j=typeof R=="object"?R.value:R,Gl(j)?null:j}(n.limit));let y=null;n.startAt&&(y=function(R){const j=!!R.before,z=R.values||[];return new Bl(z,j)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const j=!R.before,z=R.values||[];return new Bl(z,j)}(n.endAt)),Ww(e,a,f,c,m,"F",y,_)}function IE(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=As(n.unaryFilter.field);return at.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=As(n.unaryFilter.field);return at.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(n.unaryFilter.field);return at.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=As(n.unaryFilter.field);return at.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(n){return at.create(As(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(s=>kg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(i):we()}function SE(i){return pE[i]}function AE(i){return mE[i]}function CE(i){return gE[i]}function Ss(i){return{fieldPath:i.canonicalString()}}function As(i){return jt.fromServerFormat(i.fieldPath)}function xg(i){return i instanceof at?function(n){if(n.op==="=="){if(qp(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if($p(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qp(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if($p(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:AE(n.op),value:n.value}}}(i):i instanceof xn?function(n){const s=n.getFilters().map(a=>xg(a));return s.length===1?s[0]:{compositeFilter:{op:CE(n.op),filters:s}}}(i):we()}function Ng(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.ct=e}}function PE(i){const e=TE({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.un=new xE}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve($r.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class xE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Ct(Ye.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ct(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ls(0)}static kn(){return new Ls(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Go(s.mutation,a,Fr.empty(),wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=Ti();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=zo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Hr();const f=Wo(),m=function(){return Wo()}();return n.forEach((y,_)=>{const E=s.get(_.key);a.has(_.key)&&(E===void 0||E.mutation instanceof Xl)?c=c.insert(_.key,_):E!==void 0?(f.set(_.key,E.mutation.getFieldMask()),Go(E.mutation,_,E.mutation.getFieldMask(),wt.now())):f.set(_.key,Fr.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,E)=>f.set(_,E)),n.forEach((_,E)=>{var R;return m.set(_,new VE(E,(R=f.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Wo();let a=new rt((f,m)=>f-m),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let E=s.get(y)||Fr.empty();E=m.applyToLocalView(_,E),s.set(y,E);const R=(a.get(m.batchId)||Ve()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,E=y.value,R=pg();E.forEach(j=>{if(!c.has(j)){const z=_g(n.get(j),s.get(j));z!==null&&R.set(j,z),c=c.add(j)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Ti());let m=-1,y=c;return f.next(_=>W.forEach(_,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(j=>{y=y.insert(E,j)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Ve())).next(E=>({batchId:m,changes:Xw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let a=zo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=zo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const _=function(R,j){return new Bs(j,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(E=>{E.forEach((R,j)=>{f=f.insert(R,j)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,_)=>{const E=_.getKey();f.get(E)===null&&(f=f.insert(E,Mt.newInvalidDocument(E)))});let m=zo();return f.forEach((y,_)=>{const E=c.get(y);E!==void 0&&Go(E.mutation,_,Fr.empty(),wt.now()),Kl(n,_)&&(m=m.insert(y,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Rs(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(a){return{name:a.name,query:PE(a.bundledQuery),readTime:Rs(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.overlays=new rt(me.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ti();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.ht(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Ir.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ti(),c=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new rt((_,E)=>_-E);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let E=c.get(_.largestBatchId);E===null&&(E=Ti(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=Ti(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=a)););return W.resolve(m)}ht(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Ir.get(a.largestBatchId).delete(s.key);this.Ir.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new uE(n,s));let c=this.Ir.get(n);c===void 0&&(c=Ve(),this.Ir.set(n,c)),this.Ir.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.Tr=new Ct(_t.Er),this.dr=new Ct(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new me(new Ye([])),s=new _t(n,e),a=new _t(n,e+1),c=[];return this.dr.forEachInRange([s,a],f=>{this.Vr(f),c.push(f.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new Ye([])),s=new _t(n,e),a=new _t(n,e+1);let c=Ve();return this.dr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _t(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Me(e.wr,n.wr)}static Ar(e,n){return Me(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ct(_t.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lE(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.br=this.br.add(new _t(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.vr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([s,a],f=>{const m=this.Dr(f.wr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Me);return n.forEach(a=>{const c=new _t(a,0),f=new _t(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,f],m=>{s=s.add(m.wr)})}),W.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const f=new _t(new me(c),0);let m=new Ct(Me);return this.br.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(y.wr)),!0)},f),W.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(s=>{const a=this.Dr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return W.forEach(n.mutations,a=>{const c=new _t(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new _t(n,0),a=this.br.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.Mr=e,this.docs=function(){return new rt(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=Hr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Hr();const f=n.path,m=new me(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Rw(Cw(E),s)<=0||(a.has(E.key)||Kl(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){we()}Or(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new bE(this)}getSize(e){return W.resolve(this.size)}}class bE extends NE{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.persistence=e,this.Nr=new zs(n=>Ph(n),kh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lh,this.targetCount=0,this.kr=Ls.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ls(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sh(0),this.Kr=!1,this.Kr=!0,this.$r=new ME,this.referenceDelegate=e(this),this.Ur=new UE(this),this.indexManager=new kE,this.remoteDocumentCache=function(a){return new FE(a)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new RE(n),this.Gr=new LE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new jE(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new zE(this.Qr.next());return this.referenceDelegate.zr(),s(a).next(c=>this.referenceDelegate.jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Hr(e,n){return W.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class zE extends kw{constructor(e){super(),this.currentSequenceNumber=e}}class Oh{constructor(e){this.persistence=e,this.Jr=new Lh,this.Yr=null}static Zr(e){return new Oh(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(a=>this.Xr.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.Xr.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,s=>{const a=me.fromPath(s);return this.ei(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=a}static Wi(e,n){let s=Ve(),a=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Mh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return X_()?8:xw(K_())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Yi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.Zi(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new $E;return this.Xi(e,n,f).next(m=>{if(c.result=m,this.zi)return this.es(e,n,f,m.size)})}).next(()=>c.result)}es(e,n,s,a){return s.documentReadCount<this.ji?(Uo()<=Ne.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Is(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(Uo()<=Ne.DEBUG&&oe("QueryEngine","Query:",Is(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Hi*a?(Uo()<=Ne.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Is(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):W.resolve())}Yi(e,n){if(Qp(n))return W.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=zl(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ve(...c);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.ts(n,m);return this.ns(n,_,f,y.readTime)?this.Yi(e,zl(n,null,"F")):this.rs(e,_,n,y)}))})))}Zi(e,n,s,a){return Qp(n)||a.isEqual(_e.min())?W.resolve(null):this.Ji.getDocuments(e,s).next(c=>{const f=this.ts(n,c);return this.ns(n,f,s,a)?W.resolve(null):(Uo()<=Ne.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Is(n)),this.rs(e,f,n,Aw(a,-1)).next(m=>m))})}ts(e,n){let s=new Ct(fg(e));return n.forEach((a,c)=>{Kl(e,c)&&(s=s.add(c))}),s}ns(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Xi(e,n,s){return Uo()<=Ne.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Is(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),s)}rs(e,n,s,a){return this.Ji.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,s,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new rt(Me),this._s=new zs(c=>Ph(c),kh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DE(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function WE(i,e,n,s){return new HE(i,e,n,s)}async function Vg(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ve();for(const _ of a){f.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){m.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(_=>({hs:_,removedBatchIds:f,addedBatchIds:m}))})})}function Dg(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function GE(i,e){const n=Pe(i),s=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const m=[];e.targetChanges.forEach((E,R)=>{const j=a.get(R);if(!j)return;m.push(n.Ur.removeMatchingKeys(c,E.removedDocuments,R).next(()=>n.Ur.addMatchingKeys(c,E.addedDocuments,R)));let z=j.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?z=z.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,s)),a=a.insert(R,z),function(K,B,pe){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0}(j,z,E)&&m.push(n.Ur.updateTargetData(c,z))});let y=Hr(),_=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(QE(c,f,e.documentUpdates).next(E=>{y=E.Ps,_=E.Is})),!s.isEqual(_e.min())){const E=n.Ur.getLastRemoteSnapshotVersion(c).next(R=>n.Ur.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.os=a,c))}function QE(i,e,n){let s=Ve(),a=Ve();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Hr();return n.forEach((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)}),{Ps:f,Is:a}})}function KE(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ur.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Ur.allocateTargetId(s).next(f=>(a=new br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.os.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function hh(i,e,n){const s=Pe(i),a=s.os.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!ia(f))throw f;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(a.target)}function sm(i,e,n){const s=Pe(i);let a=_e.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,_,E){const R=Pe(y),j=R._s.get(E);return j!==void 0?W.resolve(R.os.get(j)):R.Ur.getTargetData(_,E)}(s,f,$n(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s.ss.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Ve())).next(m=>(YE(s,Qw(e),m),{documents:m,Ts:c})))}function YE(i,e,n){let s=i.us.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.us.set(e,s)}class om{constructor(){this.activeTargetIds=eE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XE{constructor(){this.so=new om,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new om,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl=null;function Uc(){return Pl===null?Pl=function(){return 268435456+Math.round(2147483648*Math.random())}():Pl++,"0x"+Pl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class t1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${a}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}get Fo(){return!1}Mo(n,s,a,c,f){const m=Uc(),y=this.xo(n,s.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const _={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(_,c,f),this.No(n,y,_,a).then(E=>(oe("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw xs("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",y,"request:",a),E})}Lo(n,s,a,c,f,m){return this.Mo(n,s,a,c,f)}Oo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}xo(n,s){const a=ZE[n];return`${this.Do}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,a){const c=Uc();return new Promise((f,m)=>{const y=new Km;y.setWithCredentials(!0),y.listenOnce(Ym.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nl.NO_ERROR:const E=y.getResponseJson();oe(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case Nl.TIMEOUT:oe(Lt,`RPC '${e}' ${c} timed out`),m(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const R=y.getStatus();if(oe(Lt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const z=j?.error;if(z&&z.status&&z.message){const Q=function(B){const pe=B.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pe)>=0?pe:X.UNKNOWN}(z.status);m(new ae(Q,z.message))}else m(new ae(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ae(X.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{oe(Lt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);oe(Lt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",_,s,15)})}Bo(e,n,s){const a=Uc(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Zm(),m=Jm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=c.join("");oe(Lt,`Creating RPC '${e}' stream ${a}: ${E}`,y);const R=f.createWebChannel(E,y);let j=!1,z=!1;const Q=new e1({Io:B=>{z?oe(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(j||(oe(Lt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),j=!0),oe(Lt,`RPC '${e}' stream ${a} sending:`,B),R.send(B))},To:()=>R.close()}),K=(B,pe,ge)=>{B.listen(pe,ce=>{try{ge(ce)}catch(ve){setTimeout(()=>{throw ve},0)}})};return K(R,Bo.EventType.OPEN,()=>{z||(oe(Lt,`RPC '${e}' stream ${a} transport opened.`),Q.yo())}),K(R,Bo.EventType.CLOSE,()=>{z||(z=!0,oe(Lt,`RPC '${e}' stream ${a} transport closed`),Q.So())}),K(R,Bo.EventType.ERROR,B=>{z||(z=!0,xs(Lt,`RPC '${e}' stream ${a} transport errored:`,B),Q.So(new ae(X.UNAVAILABLE,"The operation could not be completed")))}),K(R,Bo.EventType.MESSAGE,B=>{var pe;if(!z){const ge=B.data[0];Je(!!ge);const ce=ge,ve=ce.error||((pe=ce[0])===null||pe===void 0?void 0:pe.error);if(ve){oe(Lt,`RPC '${e}' stream ${a} received error:`,ve);const Fe=ve.status;let ke=function(C){const x=ot[C];if(x!==void 0)return Eg(x)}(Fe),N=ve.message;ke===void 0&&(ke=X.INTERNAL,N="Unknown error status: "+Fe+" with message "+ve.message),z=!0,Q.So(new ae(ke,N)),R.close()}else oe(Lt,`RPC '${e}' stream ${a} received:`,ge),Q.bo(ge)}}),K(m,Xm.STAT_EVENT,B=>{B.stat===eh.PROXY?oe(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===eh.NOPROXY&&oe(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Q.wo()},0),Q}}function Bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){return new yE(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=a,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s,a,c,f,m,y){this.ui=e,this.Ho=s,this.Jo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Yo===n&&this.P_(s,a)},s=>{e(()=>{const a=new ae(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(a)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{s(()=>this.I_(a))}),this.stream.onMessage(a=>{s(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r1 extends n1{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_E(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Rs(f.readTime):_e.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=im(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=ih(y)?{documents:wE(c,y)}:{query:EE(c,y)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Sg(c,f.resumeToken);const _=lh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=uh(c,f.snapshotVersion.toTimestamp());const _=lh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=IE(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=im(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Mo(e,ch(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(X.UNKNOWN,c.toString())})}Lo(e,n,s,a,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,ch(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(X.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class s1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cr(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(f=>{s.enqueueAndForget(async()=>{la(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(y){const _=Pe(y);_.L_.add(4),await aa(_),_.q_.set("Unknown"),_.L_.delete(4),await eu(_)}(this))})}),this.q_=new s1(s,a)}}async function eu(i){if(la(i))for(const e of i.B_)await e(!0)}async function aa(i){for(const e of i.B_)await e(!1)}function Og(i,e){const n=Pe(i);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Uh(n)?bh(n):$s(n).r_()&&Fh(n,e))}function jh(i,e){const n=Pe(i),s=$s(n);n.N_.delete(e),s.r_()&&Mg(n,e),n.N_.size===0&&(s.r_()?s.o_():la(n)&&n.q_.set("Unknown"))}function Fh(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(i).A_(e)}function Mg(i,e){i.Q_.xe(e),$s(i).R_(e)}function bh(i){i.Q_=new dE({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),$s(i).start(),i.q_.v_()}function Uh(i){return la(i)&&!$s(i).n_()&&i.N_.size>0}function la(i){return Pe(i).L_.size===0}function jg(i){i.Q_=void 0}async function a1(i){i.q_.set("Online")}async function l1(i){i.N_.forEach((e,n)=>{Fh(i,e)})}async function u1(i,e){jg(i),Uh(i)?(i.q_.M_(e),bh(i)):i.q_.set("Unknown")}async function c1(i,e,n){if(i.q_.set("Online"),e instanceof Ig&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.N_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.N_.delete(m),a.Q_.removeTarget(m))}(i,e)}catch(s){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lm(i,s)}else if(e instanceof Dl?i.Q_.Ke(e):e instanceof Tg?i.Q_.He(e):i.Q_.We(e),!n.isEqual(_e.min()))try{const s=await Dg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.Q_.rt(f);return m.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.N_.get(_);E&&c.N_.set(_,E.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,_)=>{const E=c.N_.get(y);if(!E)return;c.N_.set(y,E.withResumeToken(Rt.EMPTY_BYTE_STRING,E.snapshotVersion)),Mg(c,y);const R=new br(E.target,y,_,E.sequenceNumber);Fh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe("RemoteStore","Failed to raise snapshot:",s),await lm(i,s)}}async function lm(i,e,n){if(!ia(e))throw e;i.L_.add(1),await aa(i),i.q_.set("Offline"),n||(n=()=>Dg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),i.L_.delete(1),await eu(i)})}async function um(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const s=la(n);n.L_.add(3),await aa(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await eu(n)}async function h1(i,e){const n=Pe(i);e?(n.L_.delete(2),await eu(n)):e||(n.L_.add(2),await aa(n),n.q_.set("Unknown"))}function $s(i){return i.K_||(i.K_=function(n,s,a){const c=Pe(n);return c.w_(),new r1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Eo:a1.bind(null,i),Ro:l1.bind(null,i),mo:u1.bind(null,i),d_:c1.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),Uh(i)?bh(i):i.q_.set("Unknown")):(await i.K_.stop(),jg(i))})),i.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Bh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(i,e){if(cr("AsyncQueue",`${e}: ${i}`),ia(i))return new ae(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=zo(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Ps(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ps)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this.W_=new rt(me.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Os{constructor(e,n,s,a,c,f,m,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Os(e,n,Ps.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class d1{constructor(){this.queries=hm(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const a=Pe(n),c=a.queries;a.queries=hm(),c.forEach((f,m)=>{for(const y of m.j_)y.onError(s)})})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function hm(){return new zs(i=>hg(i),Ql)}async function p1(i,e){const n=Pe(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.H_()&&e.J_()&&(s=2):(c=new f1,s=e.J_()?0:1);try{switch(s){case 0:c.z_=await n.onListen(a,!0);break;case 1:c.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Fg(f,`Initialization of query '${Is(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.j_.push(e),e.Z_(n.onlineState),c.z_&&e.X_(c.z_)&&zh(n)}async function m1(i,e){const n=Pe(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.j_.indexOf(e);f>=0&&(c.j_.splice(f,1),c.j_.length===0?a=e.J_()?0:1:!c.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g1(i,e){const n=Pe(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.j_)m.X_(a)&&(s=!0);f.z_=a}}s&&zh(n)}function y1(i,e,n){const s=Pe(i),a=s.queries.get(e);if(a)for(const c of a.j_)c.onError(n);s.queries.delete(e)}function zh(i){i.Y_.forEach(e=>{e.next()})}var fh,fm;(fm=fh||(fh={})).ea="default",fm.Cache="cache";class v1{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.key=e}}class Ug{constructor(e){this.key=e}}class _1{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=fg(e),this.Ra=new Ps(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new cm,a=n?n.Ra:this.Ra;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,R)=>{const j=a.get(E),z=Kl(this.query,R)?R:null,Q=!!j&&this.mutatedKeys.has(j.key),K=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let B=!1;j&&z?j.data.isEqual(z.data)?Q!==K&&(s.track({type:3,doc:z}),B=!0):this.ga(j,z)||(s.track({type:2,doc:z}),B=!0,(y&&this.Aa(z,y)>0||_&&this.Aa(z,_)<0)&&(m=!0)):!j&&z?(s.track({type:0,doc:z}),B=!0):j&&!z&&(s.track({type:1,doc:j}),B=!0,(y||_)&&(m=!0)),B&&(z?(f=f.add(z),c=K?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:m,mutatedKeys:c}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((E,R)=>function(z,Q){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return K(z)-K(Q)}(E.type,R.type)||this.Aa(E.doc,R.doc)),this.pa(s),a=a!=null&&a;const m=n&&!a?this.ya():[],y=this.da.size===0&&this.current&&!a?1:0,_=y!==this.Ea;return this.Ea=y,f.length!==0||_?{snapshot:new Os(this.query,e.Ra,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new cm,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new Ug(s))}),this.da.forEach(s=>{e.has(s)||n.push(new bg(s))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class E1{constructor(e){this.key=e,this.va=!1}}class T1{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new zs(m=>hg(m),Ql),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(me.comparator),this.Na=new Map,this.La=new Lh,this.Ba={},this.ka=new Map,this.qa=Ls.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function I1(i,e,n=!0){const s=Hg(i);let a;const c=s.Fa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Da()):a=await Bg(s,e,n,!0),a}async function S1(i,e){const n=Hg(i);await Bg(n,e,!0,!1)}async function Bg(i,e,n,s){const a=await KE(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await A1(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Og(i.remoteStore,a),m}async function A1(i,e,n,s,a){i.Ka=(R,j,z)=>async function(K,B,pe,ge){let ce=B.view.ma(pe);ce.ns&&(ce=await sm(K.localStore,B.query,!1).then(({documents:N})=>B.view.ma(N,ce)));const ve=ge&&ge.targetChanges.get(B.targetId),Fe=ge&&ge.targetMismatches.get(B.targetId)!=null,ke=B.view.applyChanges(ce,K.isPrimaryClient,ve,Fe);return pm(K,B.targetId,ke.wa),ke.snapshot}(i,R,j,z);const c=await sm(i.localStore,e,!0),f=new _1(e,c.Ts),m=f.ma(c.documents),y=oa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,y);pm(i,n,_.wa);const E=new w1(e,n,f);return i.Fa.set(e,E),i.Ma.has(n)?i.Ma.get(n).push(e):i.Ma.set(n,[e]),_.snapshot}async function C1(i,e,n){const s=Pe(i),a=s.Fa.get(e),c=s.Ma.get(a.targetId);if(c.length>1)return s.Ma.set(a.targetId,c.filter(f=>!Ql(f,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await hh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&jh(s.remoteStore,a.targetId),dh(s,a.targetId)}).catch(Ih)):(dh(s,a.targetId),await hh(s.localStore,a.targetId,!0))}async function R1(i,e){const n=Pe(i),s=n.Fa.get(e),a=n.Ma.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jh(n.remoteStore,s.targetId))}async function zg(i,e){const n=Pe(i);try{const s=await GE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Na.get(c);f&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.va=!0:a.modifiedDocuments.size>0?Je(f.va):a.removedDocuments.size>0&&(Je(f.va),f.va=!1))}),await qg(n,s,e)}catch(s){await Ih(s)}}function dm(i,e,n){const s=Pe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Fa.forEach((c,f)=>{const m=f.view.Z_(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=Pe(f);y.onlineState=m;let _=!1;y.queries.forEach((E,R)=>{for(const j of R.j_)j.Z_(m)&&(_=!0)}),_&&zh(y)}(s.eventManager,e),a.length&&s.Ca.d_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function P1(i,e,n){const s=Pe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Na.get(e),c=a&&a.key;if(c){let f=new rt(me.comparator);f=f.insert(c,Mt.newNoDocument(c,_e.min()));const m=Ve().add(c),y=new Jl(_e.min(),new Map,new rt(Me),f,m);await zg(s,y),s.Oa=s.Oa.remove(c),s.Na.delete(e),$h(s)}else await hh(s.localStore,e,!1).then(()=>dh(s,e,n)).catch(Ih)}function dh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),n&&i.Ca.$a(s,n);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||$g(i,s)})}function $g(i,e){i.xa.delete(e.path.canonicalString());const n=i.Oa.get(e);n!==null&&(jh(i.remoteStore,n),i.Oa=i.Oa.remove(e),i.Na.delete(n),$h(i))}function pm(i,e,n){for(const s of n)s instanceof bg?(i.La.addReference(s.key,e),k1(i,s)):s instanceof Ug?(oe("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||$g(i,s.key)):we()}function k1(i,e){const n=e.key,s=n.path.canonicalString();i.Oa.get(n)||i.xa.has(s)||(oe("SyncEngine","New document in limbo: "+n),i.xa.add(s),$h(i))}function $h(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const n=new me(Ye.fromString(e)),s=i.qa.next();i.Na.set(s,new E1(n)),i.Oa=i.Oa.insert(n,s),Og(i.remoteStore,new br($n(ug(n.path)),s,"TargetPurposeLimboResolution",Sh.oe))}}async function qg(i,e,n){const s=Pe(i),a=[],c=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach((m,y)=>{f.push(s.Ka(y,e,n).then(_=>{var E;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(E=n?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(_){a.push(_);const R=Mh.Wi(y.targetId,_);c.push(R)}}))}),await Promise.all(f),s.Ca.d_(a),await async function(y,_){const E=Pe(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(_,j=>W.forEach(j.$i,z=>E.persistence.referenceDelegate.addReference(R,j.targetId,z)).next(()=>W.forEach(j.Ui,z=>E.persistence.referenceDelegate.removeReference(R,j.targetId,z)))))}catch(R){if(!ia(R))throw R;oe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const j=R.targetId;if(!R.fromCache){const z=E.os.get(j),Q=z.snapshotVersion,K=z.withLastLimboFreeSnapshotVersion(Q);E.os=E.os.insert(j,K)}}}(s.localStore,c))}async function x1(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const s=await Vg(n.localStore,e);n.currentUser=e,function(c,f){c.ka.forEach(m=>{m.forEach(y=>{y.reject(new ae(X.CANCELLED,f))})}),c.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qg(n,s.hs)}}function N1(i,e){const n=Pe(i),s=n.Na.get(e);if(s&&s.va)return Ve().add(s.key);{let a=Ve();const c=n.Ma.get(e);if(!c)return a;for(const f of c){const m=n.Fa.get(f);a=a.unionWith(m.view.Va)}return a}}function Hg(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P1.bind(null,e),e.Ca.d_=g1.bind(null,e.eventManager),e.Ca.$a=y1.bind(null,e.eventManager),e}class Hl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return WE(this.persistence,new qE,e.initialUser,this.serializer)}Ga(e){return new BE(Oh.Zr,this.serializer)}Wa(e){return new XE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hl.provider={build:()=>new Hl};class ph{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,this.syncEngine),await h1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new d1}()}createDatastore(e){const n=Zl(e.databaseInfo.databaseId),s=function(c){return new t1(c)}(e.databaseInfo);return function(c,f,m,y){return new i1(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new o1(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>dm(this.syncEngine,n,0),function(){return am.D()?new am:new JE}())}createSyncEngine(e,n){return function(a,c,f,m,y,_,E){const R=new T1(a,c,f,m,y,_);return E&&(R.Qa=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Pe(a);oe("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await aa(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ph.provider={build:()=>new ph};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=Iw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{oe("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zc(i,e){i.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Vg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function mm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await L1(i);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>um(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>um(e.remoteStore,a)),i._onlineComponents=e}async function L1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await zc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;xs("Error using user provided cache. Falling back to memory cache: "+n),await zc(i,new Hl)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await zc(i,new Hl);return i._offlineComponents}async function O1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await mm(i,i._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await mm(i,new ph))),i._onlineComponents}async function M1(i){const e=await O1(i),n=e.eventManager;return n.onListen=I1.bind(null,e.syncEngine),n.onUnlisten=C1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R1.bind(null,e.syncEngine),n}function j1(i,e,n={}){const s=new Si;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,_){const E=new V1({next:j=>{E.Za(),f.enqueueAndForget(()=>m1(c,R)),j.fromCache&&y.source==="server"?_.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(j)},error:j=>_.reject(j)}),R=new v1(m,E,{includeMetadataChanges:!0,_a:!0});return p1(c,R)}(await M1(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map;function F1(i,e,n,s){if(e===!0&&s===!0)throw new ae(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function ym(i){if(me.isDocumentKey(i))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function tu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function mh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tu(i);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mw;switch(s.type){case"firstParty":return new _w(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=gm.get(n);s&&(oe("ComponentProvider","Removing Datastore"),gm.delete(n),s.terminate())}(this),Promise.resolve()}}function b1(i,e,n,s={}){var a;const c=(i=mh(i,qh))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Ot.MOCK_USER;else{m=Q_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ot(_)}i._authCredentials=new gw(new eg(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class hr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class ks extends Wr{constructor(e,n,s){super(e,n,ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new me(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function U1(i,e,...n){if(i=jl(i),i instanceof qh){const s=Ye.fromString(e,...n);return ym(s),new ks(i,null,s)}{if(!(i instanceof hr||i instanceof ks))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return ym(s),new ks(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Lg(this,"async_queue_retry"),this.Vu=()=>{const s=Bc();s&&oe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Bc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Bc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Si;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ia(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw cr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=Bh.createAndSchedule(this,e,n,s,c=>this.yu(c));return this.Tu.push(a),a}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Gg extends qh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new _m,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _m(e),this._firestoreClient=void 0,await e}}}function B1(i,e){const n=typeof i=="object"?i:rw(),s=typeof i=="string"?i:"(default)",a=Z0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=W_("firestore");c&&b1(a,...c)}return a}function z1(i){if(i._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||$1(i),i._firestoreClient}function $1(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,_,E){return new Dw(m,y,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Wg(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new D1(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m?._online.build();return{_offline:m?._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(Rt.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=/^__.*__$/;function Yg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Gh{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.Ou(e),a}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:s,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Yg(this.Cu)&&q1.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class H1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zl(e)}Qu(e,n,s,a=!1){return new Gh({Cu:e,methodName:n,qu:s,path:jt.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function W1(i){const e=i._freezeSettings(),n=Zl(i._databaseId);return new H1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function G1(i,e,n,s=!1){return Qh(n,i.Qu(s?4:3,e))}function Qh(i,e){if(Xg(i=jl(i)))return K1("Unsupported field value:",e,i),Q1(i,e);if(i instanceof Kg)return function(s,a){if(!Yg(a.Cu))throw a.Bu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=Qh(m,a.Lu(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=jl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tE(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=wt.fromDate(s);return{timestampValue:uh(a.serializer,c)}}if(s instanceof wt){const c=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(a.serializer,c)}}if(s instanceof Hh)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ms)return{bytesValue:Sg(a.serializer,s._byteString)};if(s instanceof hr){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ag(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Wh)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Bu("VectorValues must only contain numeric values.");return xh(m.serializer,y)})}}}}}}(s,a);throw a.Bu(`Unsupported field value: ${tu(s)}`)}(i,e)}function Q1(i,e){const n={};return tg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(i,(s,a)=>{const c=Qh(a,e.Mu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Xg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof wt||i instanceof Hh||i instanceof Ms||i instanceof hr||i instanceof Kg||i instanceof Wh)}function K1(i,e,n){if(!Xg(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=tu(n);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}const Y1=new RegExp("[~\\*/\\[\\]]");function X1(i,e,n){if(e.search(Y1)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qg(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gh(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ae(X.INVALID_ARGUMENT,m+i+y)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class J1 extends Jg{data(){return super.data()}}function Kh(i,e){return typeof e=="string"?X1(i,e):e instanceof Qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yh{}class Xh extends Yh{}function eT(i,e,...n){let s=[];e instanceof Yh&&s.push(e),s=s.concat(n),function(c){const f=c.filter(y=>y instanceof Zh).length,m=c.filter(y=>y instanceof Jh).length;if(f>1||f>0&&m>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Jh extends Xh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return Zg(e._query,n),new Wr(e.firestore,e.converter,sh(e._query,n))}_parse(e){const n=W1(e.firestore);return function(c,f,m,y,_,E,R){let j;if(_.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Em(R,E);const z=[];for(const Q of R)z.push(wm(y,c,Q));j={arrayValue:{values:z}}}else j=wm(y,c,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Em(R,E),j=G1(m,f,R,E==="in"||E==="not-in");return at.create(_,E,j)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Zh extends Yh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const y of m)Zg(f,y),f=sh(f,y)}(e._query,n),new Wr(e.firestore,e.converter,sh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ef extends Xh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ef(e,n)}_apply(e){const n=function(a,c,f){if(a.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new na(c,f)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(a,c){const f=a.explicitOrderBy.concat([c]);return new Bs(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function tT(i,e="asc"){const n=e,s=Kh("orderBy",i);return ef._create(s,n)}class tf extends Xh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new tf(e,n,s)}_apply(e){return new Wr(e.firestore,e.converter,zl(e._query,this._limit,this._limitType))}}function nT(i){return tf._create("limit",i,"F")}function wm(i,e,n){if(typeof(n=jl(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cg(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ye.fromString(n));if(!me.isDocumentKey(s))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return zp(i,new me(s))}if(n instanceof hr)return zp(i,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tu(n)}.`)}function Em(i,e){if(!Array.isArray(i)||i.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zg(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rT{convertValue(e,n="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return sa(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>nt(f.doubleValue));return new Wh(c)}convertGeoPoint(e){return new Hh(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ch(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zo(e));default:return null}}convertTimestamp(e){const n=qr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ye.fromString(e);Je(Ng(s));const a=new ea(s.get(1),s.get(3)),c=new me(s.popFirst(5));return a.isEqual(n)||cr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iT extends Jg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ll(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Kh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ll extends iT{data(e={}){return super.data(e)}}class sT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new kl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ll(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new Ll(a._firestore,a._userDataWriter,m.doc.key,m.doc,new kl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Ll(a._firestore,a._userDataWriter,m.doc.key,m.doc,new kl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,E=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:oT(m.type),doc:y,oldIndex:_,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class aT extends rT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function lT(i){i=mh(i,Wr);const e=mh(i.firestore,Gg),n=z1(e),s=new aT(e);return Z1(i._query),j1(n,i._query).then(a=>new sT(e,s,i,a))}(function(e,n=!0){(function(a){Us=a})(nw),bl(new Yo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Gg(new yw(s.getProvider("auth-internal")),new Ew(s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(_.options.projectId,E)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Cs(jp,"4.7.3",e),Cs(jp,"4.7.3","esm2017")})();const uT={apiKey:"AIzaSyCZksddHjaCm_KPQUjygPYL_SN4mIpJDZY",authDomain:"slider-dbf2a.firebaseapp.com",projectId:"slider-dbf2a",storageBucket:"slider-dbf2a.appspot.com",messagingSenderId:"743027575927",appId:"1:743027575927:web:5d8a133276bfc438314a72",measurementId:"G-3C77JPG400"},cT=Hm(uT),hT=B1(cT),fT=()=>{const[i,e]=te.useState(!0),[n,s]=te.useState([]),[a,c]=te.useState(1),f=async()=>{e(!0);const y=U1(hT,"bestscores",`level${a}`,"scores"),_=await lT(eT(y,tT("time"),nT(5))),E=[];_.forEach(R=>{E.push(R.data())}),s(E),e(!1)};te.useEffect(()=>{f()},[a]);const m=()=>i?T.jsx("div",{children:"Loading..."}):n.length===0?T.jsx("div",{children:"Seems like no one has completed this level :)"}):n.map((y,_)=>T.jsxs("div",{className:"score",children:[T.jsx("span",{className:"pos",children:_+1}),T.jsx("span",{className:"name",children:y.name}),T.jsx("span",{className:"time",children:y.time})]},_));return T.jsx("div",{className:"display",id:"sidescroller",children:T.jsx("div",{className:"brand anim fadeintoleft",children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr"},children:[T.jsxs("div",{children:[T.jsx("a",{href:"https://umerkay.github.io/side-scroller-2/",className:"btn",target:"_blank",rel:"noopener noreferrer",children:"Play "}),T.jsx("h1",{className:"title",children:"Side Scroller"}),T.jsx("h2",{className:"sub",children:"You slide across a world full of obstacles until you shatter into pieces and start all over again. It's fun."}),T.jsx("div",{className:"spacer"}),T.jsx("p",{className:"info",children:"Features a tiled 2D world with customizable blocks and a world builder. A highscore system synced with firebase firestore keeps track of players. The physics is vaguely simplified for perfomance, and most mechanics only offer the bare minimum of accuracy required to simulate the world."})]}),T.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:T.jsx("div",{className:"dataC",children:T.jsx("div",{id:"data",className:"data",children:m()})})})]})})})},dT=()=>T.jsx("div",{className:"display",id:"flightsim",children:T.jsx("div",{className:"brand anim fadeintoleft",children:T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"3fr 0fr"},children:[T.jsxs("div",{children:[T.jsx("a",{href:"https://umerkay.github.io/fly/",className:"btn",target:"_blank",rel:"noopener noreferrer",children:"Fly "}),T.jsx("h1",{className:"titlesmall",children:"A Horrible Attempt at a"}),T.jsx("h1",{className:"title",children:"Flight Simulator"}),T.jsx("p",{className:"info",children:"Really proud of the terrain generation. It uses Perlin and Fractal noise to generate realistic looking terrains. All maps are generated procedurally, based on a seed, and are infinite. Every reasonable effort has been made to make sure it runs on a potato. No, really. It has been performance optimized.            "})]}),T.jsx("div",{style:{display:"flex",alignItems:"flex-end"}})]})})}),Tm="/new-portfolio/assets/needlesslogo-BOSqTPvB.jpg";function pT(){return console.log(Tm),T.jsxs(T.Fragment,{children:[T.jsx("h1",{className:"title",children:" Games!"}),T.jsx(dT,{}),T.jsx(fT,{}),T.jsx(zt,{title:"needlessjs",links:[{href:"https://github.com/umerkay/needless-library",text:"Code"},{href:"https://umerkay.github.io/needlessjs/",text:"Website"}],images:[Tm],description:"Graphic & Sketch Library",info:"These games are made with love on Needlessjs, or some development version of it. Needlessjs is a library I have developed myself to do away with the redundant and cumbersome nature of the Canvas API in JavaScript. It is inspired by p5.js and the Processing Foundation's work, but allows sketches to be much more modular.",id:"needless"})]})}const mT="/new-portfolio/assets/coal-DfaCSM_y.jpg",ey="/new-portfolio/assets/aeye1-iJn6Xn1_.png",ty="/new-portfolio/assets/aeye2-V-G1V0OJ.jpg",gT="/new-portfolio/assets/landuse1-Dc6wgPSu.png",ny="/new-portfolio/assets/fss1-DC9gD-C7.png",yT=[{method:"Baseline",accuracy:.9302,featuresSelected:34,computationTime:"N/A"},{method:"GA",accuracy:.9395,featuresSelected:18,computationTime:"296.54 seconds"},{method:"PSO",accuracy:.9411,featuresSelected:21,computationTime:"413.94 seconds"},{method:"Modified PSO",accuracy:.9426,featuresSelected:30,computationTime:"250.40 seconds"}];function ry(){return T.jsxs("table",{border:1,children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Method"}),T.jsx("th",{children:"Accuracy"}),T.jsx("th",{children:"Features Selected"}),T.jsx("th",{children:"Computation Time"})]})}),T.jsx("tbody",{children:yT.map((i,e)=>T.jsxs("tr",{children:[T.jsx("td",{children:i.method}),T.jsx("td",{children:i.accuracy}),T.jsx("td",{children:i.featuresSelected}),T.jsx("td",{children:i.computationTime})]},e))})]})}function vT(){return T.jsxs(T.Fragment,{children:[T.jsx("h2",{style:{color:"#ddd"},children:"Coursework for"}),T.jsx("h1",{className:"title",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:" Bachelors of Science in Computer Science"}),T.jsx("h3",{style:{color:"#eee",fontStyle:"italic"},children:T.jsx("a",{target:"_blank",href:"https://nust.edu.pk/",children:"National University of Sciences and Technology, Islamabad, Pakistan"})}),T.jsx("div",{className:"spacer"}),T.jsx(zt,{title:"-processor Simulator",links:[{href:"https://github.com/umerkay/processorsim",text:"Code",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}},{href:"https://umerkay.github.io/processorsim/",text:"Live",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}}],images:[mT],description:"This project has been made as part of the coursework required for CS 235 Computer Organisation and Assembly Language. It is a graded group assignment.",info:T.jsxs("span",{children:[T.jsx("br",{}),T.jsx("b",{children:" Awarded Best Project at National University of Sciences and Technology, Islamabad"})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"-processor Simulator",id:"coursework",style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx(zt,{title:T.jsxs(T.Fragment,{children:["a",T.jsx("span",{style:{fontWeight:"bolder",color:"rgba(10, 0, 192, 0.801)"},children:"EYE"})]}),links:[{href:"https://github.com/umerkay/aEYE",text:"Code",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}},{href:"https://github.com/umerkay/aEYE/blob/main/DL%20Proj%20Report.pdf",text:"Report",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}}],images:[ey,ty],description:"aEYE is a Visual Question Answering (VQA) system designed to empower visually impaired individuals by providing access to visual content through natural language questions.",info:T.jsxs("span",{children:[T.jsx("br",{}),T.jsx("b",{children:" Our solution involves fine-tuning a pretrained version of Microsofts GenerativeImage2Text (GIT) model on the COCOQA dataset."})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"aEYE",id:"aEye",mirror:!0,imgHorizontal:!0,style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx(zt,{title:"Improving Alzeimer's Diagnosis",links:[{href:"https://github.com/umerkay/FeatureSubsetSelection",text:"Code",style:{backgroundColor:"rgb(0, 0, 0)",color:"white"}},{href:"https://github.com/umerkay/FeatureSubsetSelection/blob/main/AI%20GA%20and%20PSO.pdf",text:"Report",style:{backgroundColor:"rgb(0, 0, 0)",color:"white"}}],images:[ny],description:"with Feature Subset Selection using Genetic Algorithm (GA) and Particle Swarm Optimization (PSO), and Non-dominated Sorting Genetic Algorithm II (NSGA-II) for multi-objective optimization.",info:T.jsxs(T.Fragment,{children:[T.jsxs("span",{children:[T.jsx("br",{}),T.jsxs("b",{children:[" Accuracy improves when redundant features are removed, but reaches plateau",T.jsx("br",{})," NSGA-II used to show tradeoff between accuracy and no. of features in subset"]})]}),T.jsx(ry,{})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"Feature Subset Selection",id:"fss",mirror:!0,style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx("div",{className:"spacer"})]})}const _T="/new-portfolio/assets/umerr-BGODmXBM.png";function wT(){return T.jsxs(T.Fragment,{children:[T.jsx("h1",{id:"DL",className:"title",children:" Deep Learning & ML Projects"}),T.jsx(zt,{title:"AgroData: Large-scale Early/In-Season Crop Type Mapping Framework for Pakistan",subtitle:"Final Year Project at NUST, SEECS",links:[{href:"/fypposter.pdf",text:"Poster",style:{backgroundColor:"rgb(255, 193, 7)",color:"black"}},{href:"https://cropmapping-platform.vercel.app/",text:"Live",style:{backgroundColor:"rgb(40, 167, 69)",color:"white"}}],images:[_T],description:" A comprehensive framework for mapping crop types across Pakistan using satellite imagery and machine learning techniques. This final year project at NUST SEECS demonstrates large-scale agricultural monitoring capabilities.",titleStyle:{fontSize:"2.2em"},logoAlt:"Crop Type Mapping Framework",id:"cropMapping",style:{alignItems:"center"}}),T.jsx(zt,{title:T.jsxs(T.Fragment,{children:["a",T.jsx("span",{style:{fontWeight:"bolder",color:"rgba(10, 0, 192, 0.801)"},children:"EYE"})]}),links:[{href:"https://github.com/umerkay/aEYE",text:"Code",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}},{href:"https://github.com/umerkay/aEYE/blob/main/DL%20Proj%20Report.pdf",text:"Report",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}}],images:[ey,ty],description:"aEYE is a Visual Question Answering (VQA) system designed to empower visually impaired individuals by providing access to visual content through natural language questions.",info:T.jsxs("span",{children:[T.jsx("br",{}),T.jsx("b",{children:" Our solution involves fine-tuning a pretrained version of Microsofts GenerativeImage2Text (GIT) model on the COCOQA dataset."})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"aEYE",id:"aEye",mirror:!0,imgHorizontal:!0,style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx(zt,{title:"Land Use Segmentation",subtitle:"with UNet++ on DeepGlobe",links:[{href:"https://github.com/umerkay/aEYE",text:"Github",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}},{href:"https://github.com/umerkay/satellite-imaging-segmentation/blob/main/Satellite%20Image%20Segmentation.ipynb",text:"Notebook",style:{backgroundColor:"rgb(113, 6, 236)",color:"white"}}],images:[gT],description:"Dataset part of the DeepGlobe Challenge. A UNet++ architecture is used to predict segmentation maps of satellite imagery. The masks classify between 7 different classes for land use: urban, agriculture, rangeland, forest, water, barren, and unknown.",info:T.jsxs("span",{children:[T.jsx("br",{}),T.jsx("b",{children:" Satellite data exhibits class imbalance. This is tackled by calculating and using class weights in the loss calculation."})]}),titleStyle:{fontSize:"2.5em"},logoAlt:"Land Use Segmentation",id:"landuse",imgHorizontal:!0,style:{alignItems:"center"}}),T.jsx(zt,{title:"Improving Alzeimer's Diagnosis",links:[{href:"https://github.com/umerkay/FeatureSubsetSelection",text:"Code",style:{backgroundColor:"rgb(0, 0, 0)",color:"white"}},{href:"https://github.com/umerkay/FeatureSubsetSelection/blob/main/AI%20GA%20and%20PSO.pdf",text:"Report",style:{backgroundColor:"rgb(0, 0, 0)",color:"white"}}],images:[ny],description:"with Feature Subset Selection using Genetic Algorithm (GA) and Particle Swarm Optimization (PSO), and Non-dominated Sorting Genetic Algorithm II (NSGA-II) for multi-objective optimization.",info:T.jsxs(T.Fragment,{children:[T.jsxs("span",{children:[T.jsx("br",{}),T.jsxs("b",{children:[" Accuracy improves when redundant features are removed, but reaches plateau",T.jsx("br",{})," NSGA-II used to show tradeoff between accuracy and no. of features in subset"]})]}),T.jsx(ry,{})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"Feature Subset Selection",id:"fss",mirror:!0,style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx("div",{className:"spacer"})]})}function ET(){return T.jsxs(T.Fragment,{children:[T.jsx("h2",{style:{color:"#ddd"},children:"Research"}),T.jsx("h1",{className:"title",style:{fontWeight:"bold",marginBottom:"0.5rem"},children:"Publications"}),T.jsx("div",{className:"spacer"}),T.jsx(zt,{title:"Breast Cancer Detection Through Spectrogram Generation from GANs-Simulated Microwave Imaging Data",subtitle:"2025 2nd International Conference on Microwave, Antennas & Circuits (ICMAC)",links:[{href:"https://ieeexplore.ieee.org/document/11003239",text:"IEEE Xplore",style:{backgroundColor:"rgb(0, 102, 204)",color:"white"}}],description:"This research presents a novel approach to breast cancer detection using microwave imaging data enhanced with Generative Adversarial Networks (GANs). S11 and S12 parameters are converted to frequency spectrograms using Fourier analysis, which are then fed into deep learning models for classification of cancerous vs. non-cancerous tissue.",info:T.jsxs("span",{children:[T.jsx("br",{}),T.jsx("b",{children:" Novel GAN-based data simulation approach"}),T.jsx("br",{}),T.jsx("b",{children:" Microwave imaging & spectrogram analysis"}),T.jsx("br",{}),T.jsx("b",{children:" Deep learning classification for medical diagnosis"}),T.jsx("br",{}),T.jsx("b",{children:" Demonstrates promising accuracy and generalizability"})]}),titleStyle:{color:"rgb(27, 27, 27)"},logoAlt:"Breast Cancer Detection Research",id:"pub",style:{alignItems:"center",background:"white",color:"rgb(27, 27, 27)"}}),T.jsx("div",{className:"spacer"})]})}const $c=[{text:"Deep Learning",value:"DL",component:T.jsx(wT,{})},{text:"Coursework",value:"coursework",component:T.jsx(vT,{})},{text:"Publications",value:"publications",component:T.jsx(ET,{})},{text:"Games",value:"play",component:T.jsx(pT,{})},{text:"Math & Physics",value:"mathnphy",component:T.jsx(M_,{})},{text:"Creative Design",value:"design",href:"/DesignPortfolio.pdf"},{text:"FitReflect",value:"fitreflect",href:"https://fitreflect.com"},{text:"Web Dev",value:"web",component:T.jsx(D_,{})}].map(i=>({...i,href:i.href||`#${i.value}`}));function TT(){const{hash:i}=Fs(),[e,n]=te.useState(null),s=te.useRef($c.reduce((a,c)=>(a[c.value]=Sm.createRef(),a),{}));return te.useEffect(()=>{if(i){const a=$c.find(c=>c.value===i.slice(1));n(a)}},[i]),te.useEffect(()=>{e&&s.current[e.value]&&s.current[e.value].current.scrollIntoView({behavior:"smooth"})},[e]),T.jsxs("div",{className:"container",children:[T.jsx(T_,{}),T.jsx(I_,{}),T.jsx("div",{id:"lll",className:"spacer"}),T.jsx(S_,{links:$c,selectedLink:e}),e?.component&&T.jsx("div",{style:{paddingTop:"5rem"},ref:s.current[e.value],children:e.component})]})}function IT(){return T.jsx("footer",{className:"main",children:T.jsxs("div",{className:"container",children:[" umerkk164 ",new Date().getFullYear()," All content here in is property of the entity represented by umerkk164. This website is for demonstration of work done by said entity and shall be used as such. Work is linked to third parties for the purposes of demonstration and said entity will not be responsible for inability to access external links at any point in time. If any need hereto arises to communicate, please email umerkk164@gmail.com."]})})}function xl({large:i,logos:e,title:n,desc:s,img:a,dir:c="left",button:f}){return T.jsxs("div",{className:"aboutsection",style:{marginBottom:i?"10rem":"3rem"},children:[T.jsxs("div",{className:"text "+c,children:[e?T.jsx("div",{className:"logos",children:e.map((m,y)=>T.jsx("img",{src:m,alt:""},y))}):null,T.jsxs("div",{className:"text-child",children:[T.jsx("h1",{className:"title",children:n}),T.jsx("h2",{className:"desc",children:s}),f?T.jsx("a",{href:f.link,className:"btn",children:f.text}):null]})]}),T.jsx("div",{className:c=="left"?"img right":"img left",children:T.jsx("img",{src:a,alt:""})})]})}const ST="/new-portfolio/assets/umerkayexplains-ioB4uKb8.png",AT="/new-portfolio/assets/DL-DNS8ef7z.png",CT="/new-portfolio/assets/design-BqOZ9d5p.png",RT="/new-portfolio/assets/tumlogo-De6rKn03.png",PT="/new-portfolio/assets/nustlogo-9QbV9HMr.png",kT="/new-portfolio/assets/umerkay-CSrtDIHv.jpg",xT=()=>T.jsx("div",{className:"container anim fadein",children:T.jsxs("div",{className:"about",children:[T.jsx("div",{className:"title",children:"M. Umer K."}),T.jsx(xl,{title:T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"logos",children:[T.jsx("img",{src:RT,alt:"TUM",style:{}}),T.jsx("img",{src:PT,alt:"NUST",style:{}})]}),"Visitng Researcher, Technical University of Munich",T.jsx("br",{}),"Research Intern, MachVis Lab, Islamabad"]}),desc:"Currently doing academic research in Computer Vision. Specifically, I am working on using domain adaptation & few-shot learning methods to train useful deep learning models on satellite imagery data. I am working on a DAAD-funded project with AI4EO at TUM and NARC in Islamabad.",img:kT,dir:"left",large:!0}),T.jsx(xl,{title:"Umerkay Explains",desc:"I will (soon) be making videos explaining deep learning and AI concepts over on youtube. 3blue1brown, Computerphile, Tom Scott and Yannic Kilcher are some of my inspirations. Work in Progress ",img:ST,dir:"right"}),T.jsx(xl,{title:"Deep Learning - CV & NLP",desc:"I am working on self-interest projects in DeepLearning and Computer Vision. Projects include Humaizing AI Text, Visual Question Answering Chatbot, Pose Detection, Object Detection, Land Use Segmentation, Virtual Try-On, and more.",img:AT,large:!0,button:{text:"Projects",link:"/#DL"}}),T.jsx(xl,{title:"Full-Stack Web Developer",desc:"A keen JavaScript nerd, trying to convince every person I meet to learn this language and accompany me on this journey to adorn the web. I have experience both with back-end and front-end development, and front-end interface and experience design.",img:CT,large:!0,button:{text:"Projects",link:"/#web"}})]})});function NT(){const i=[{name:"Highlights",url:"/",selected:!0,external:!1},{name:"About",url:"/about",selected:!1,external:!1},{name:"GitHub",url:"https://github.com/umerkay/",selected:!1,external:!0}];return T.jsxs(g_,{children:[T.jsx(E_,{links:i}),T.jsxs(u_,{children:[T.jsx(Hc,{path:"/",element:T.jsx(TT,{})}),T.jsx(Hc,{path:"/about",element:T.jsx(xT,{})})]}),T.jsx(IT,{})]})}yv.createRoot(document.getElementById("root")).render(T.jsx(NT,{}));
